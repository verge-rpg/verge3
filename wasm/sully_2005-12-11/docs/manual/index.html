<html>
<head>
	<title>VERGE 3 Manual (2004.10.14)</title>
	<style>
	body{font-size:12px; background-color:#98B795;}
	pre{font-size:11px;}
	tt{font-family:Verdana;font-size:10px;}
	</style>
</head>

<body>

<br/><table width='95%' align='center' style='background-color:white; padding:0.35em; border:1px solid black;'><tr><td><br/><b><big><div style='font-family:tahoma;'><div align='center'>VERGE-RPG DOCS, The VERGE 3 Manual</big></b><br/><div style='font-size:12px;'><br/>The reference manual for the VERGE 3 game creation engine.</div>

<br />
<font color=red><b>NOTE:</b> This is a snapshot of the VERGE Manual from 2004.10.14.  The current version is available <a href=http://www.verge-rpg.com/docs/view.php?libid=1>[here]</a><br /><br />We apologize for any omissions in the present manual.</font>
<br /><br />
A plaintext version of this document is <a href=./VERGE_Manual.txt>[here]</a>.
<br />

</div><br/><table align='center' style='font-size:14px; padding:1.2em; background-color:#F8F8F8; border:1px solid black;'><tr><td valign='top'><h3><u>Table of Contents</u></h3><ol style='font-size:12px;' type=I><li><a href="#46">Dedication</a></li><li><a href="#1">Introduction</a></li><li><a href="#80">Variables</a></li><ol type=a><li><a href="#81">Integers</a></li><li><a href="#85">Fixed-point</a></li><li><a href="#82">Strings</a></li><li><a href="#84">Arrays</a></li><li><a href="#86">Structs</a></li></ol><li><a href="#2">Language Specification</a></li><ol type=a><li><a href="#7">basic syntax</a></li><li><a href="#133">Operators</a></li><li><a href="#4">Comments</a></li><li><a href="#9">preprocessor directives</a></li><li><a href="#5">control structures</a></li><li><a href="#10">functions</a></li><li><a href="#6">system and map code</a></li><li><a href="#11">DMA</a></li></ol><li><a href="#128">Engine</a></li><ol type=a><li><a href="#130">verge.cfg options</a></li><li><a href="#129">changelog</a></li><li><a href="#132">planned features</a></li><li><a href="#131">known issues</a></li></ol><li><a href="#12">Function Reference</a></li><ol type=a><li><a href="#30">General Utility Functions</a></li><li><a href="#20">String Functions</a></li><li><a href="#21">Map Functions</a></li><li><a href="#22">Entity Functions</a></li><li><a href="#26">Graphics Functions</a></li><li><a href="#27">Sprite Functions</a></li><li><a href="#23">Sound/Music Functions</a></li><li><a href="#24">Font Functions</a></li><li><a href="#45">Math Functions</a></li><li><a href="#25">File Functions</a></li><li><a href="#28">Window Managment Functions</a></li><li><a href="#29">Movie Playback Functions</a></li><li><a href="#265">Netcode Functions</a></li></ol><li><a href="#31">Global Variables</a></li><ol type=a><li><a href="#32">General System Variables</a></li><li><a href="#33">Mouse Variables</a></li><li><a href="#34">Joystick Variables</a></li><li><a href="#35">Entity Variables</a></li><li><a href="#79">Sprite Variables</a></li><li><a href="#36">Camera Variables</a></li><li><a href="#157">Map Variables</a></li><li><a href="#160">Layer Variables</a></li><li><a href="#37">Event Variables</a></li><li><a href="#38">Date/Time Variables</a></li></ol><li><a href="#41">Built-in Defines</a></li><ol type=a><li><a href="#42">Version</a></li><li><a href="#43">Scan Codes</a></li><li><a href="#44">Color Filters</a></li></ol><li><a href="#13">Appendix</a></li><ol type=a><li><a href="#18">history of verge</a></li><li><a href="#263">archived related sites</a></li></ol><li><a href="#14">Credits</a></li><li><a href="#19">Colophon</a></li></ol></td></tr></table><br/><table style='background-color:#F8F8F8; border:1px solid black;' width='99%' align='center'><tr><td><ol type=I><li><b><a href="#46"> </a><div style='font-size:14px; border:1px solid black; padding:0.35em; background-color:#E6FBE4;'>
<big>Dedication</big></b><div style='font-size:12px;'><div align=center>
<img src=./images/docs/clam.gif>

<h5>For Sully</h5>

<div class=note>VERGE is dedicated to erudite marine life everywhere.</div>

</div>
</div></div><br/></li><li><b><a href="#1"> </a><div style='font-size:14px; border:1px solid black; padding:0.35em; background-color:#E6FBE4;'><big>Introduction</big></b><div style='font-size:12px;'><pre>
"Not documenting important features is a major aspect of the VERGE dev philosophy
 though! Because it places the knowledge in the hands of an elite priesthood upon
 whom the lower classes are dependent"
				-Gayo, in the sooper-secret VERGE dev chatroom
</pre>

<p>Welcome to VERGE!!!
<p>Okay, well, after too many weeks of coding this system, and 3 hours of data entry, I'm making this library public and calling it a night.
<p>Hopefully vecna will decide to add more infos here and there.
<p>All of the function refernce at the least has a nodeshell that matches up with the most recent v3vergec.txt.
<p>The documentation widget doesn't seem to be working 100% as planned, but I'm sure I can crush the quirks that didn't manifest until I gave it the rigorous testing of the for-real v3 docs tonight.
<p>If anyone wants to start making their own documentation, go right ahead.  You may need to log-in and log out after doing so.  It may also not work.  I've been too busy adding stuff here.
<p>I'll appoint contributors/editors/moderators after I wake up at the boss's discretion.
<p>Sincerely,<br />McGrue
<p>PS: If you couldn't figure it out, this is a highly temporary introduction.</div></div><br/></li><li><b><a href="#80"> </a><div style='font-size:14px; border:1px solid black; padding:0.35em; background-color:#E6FBE4;'><big>Variables</big></b><div style='font-size:12px;'><h4>What is a variable?</h4>
<p>When running any program, certain information need to be kept track of by the computer. For instance, most rpgs will want to know a health value that changes when the player is damaged. To do this, you can 'declare' a variable called "playerhealth", which would then store a number that relates to their health, and then use the name of the variable to refer to it.</p>


<h4>Types of variables</h4>

<p>Like all programming languages, verge has a several different means of storing data, for different purposes. Each has a subsection, with more information:</p>

<div class=odd>
<ul>
	<li class=even><a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=81">Integer</a>: (or int) Used for storing numbers, does not support decimals (numbers with fractional parts)
	<li class=odd><a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=85">Fixed-point</a>: Not actually another type of variable, but a way of using integers so you can store fractions.
	<li class=even><a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=82">String</a>: Used for storing text, whether a single character or a whole line.
	<li class=odd><a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=84">Array</a>: A certain number of either strings or integers, listed under one name.
	<li class=even><a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=86">Struct</a>: A collection that can have arrays, strings, and integers, arranged and named however you want.
</ul>
</div>

<h4>Declaration</h4>

<p>Declaring a variable is <i>creating</i> it.  <b id=highlight>You cannot use a variable without creating it first</b>. In verge the syntax is:</p>

<pre>
(type of variable) (name of variable);
</pre>

<p>So, in our example, we would write the following line of code:</p>
<pre>
int playerhealth;
</pre>
<p>This says we want to use a number, which we are going to refer to as "playerhealth" from now on. Arrays and structs are handled rather differently, see their specific sections for more information, but strings are similar:</p>
<pre>
string playername;
</pre>
<p>What we must do is make sure we declare the variable BEFORE using it anywhere else. This generally means you just need to make sure the line you declare the variable is above any lines in which you use it. This is good:</p>
<pre>
int playerhealth;
playerhealth = 100;
</pre>
<p>This is BAD, verge will not like it:</p>
<pre>
playerhealth = 100;
int playerhealth;
</pre>
<p>Note we could also assign a value when we first declare it, this sometimes saves space and confusion:</p>
<pre>int playerhealth = 100;</pre>
<p>Unlike other programming languages, verge automatically sets numbers to 0 and strings to blank (or "" as it may be referred to), even if you don't assign a value when you first declare it. However, it is considered good practice to make sure you variables always contain something before you use them.</p>

<h4>Naming variables</h4>
<p>You can call your variable pretty much anything you like, but it's best to name them something obvious that will remind you what  information it stores. Verge allows variable names to consist of upper and lower case letters, numbers, and underscores (like _ that). ( Well, to be honest it allows all symbols that aren't reserved as something else, but don't use them. ) However, make sure the name always begins with a letter.</p>
<h5>Bad variable names:</h5>
<pre>
hit%    //No special symbols like % allowed
3DModel //Putting a number at the start will make verge try to do maths on your variable)
player$ //(Ok, so the $ is technically allowed, but will cause confusion)
estbx   //(This is allowable, BUT WHAT DOES IT MEAN? Use names that make sense)
</pre>

<h5>Good alternatives:</h5>
<pre>
HitPercent
Model3D
playerMoney
enemy_status_box
</pre>

<p>Another important thing to note here, is that you need to make sure all things that have names, and might exist at the same time (see scope below) must be called different things. In particular, don't name variables and <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=10">functions</a> the same, and (for a different reason) don't name ANYTHING the same as <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=9">defines</a>. A final point here is that unlike in some programming languages, upper and lower case letters are not treated is differently, so make sure to have completely independent names.</p>

<p>Having some kind standard system is useful to keep track of what each name is, however exactly what sort of standard system is the sort of thing programmers can argue over for hours. If you are brave, do  a search and pick a method you like. However, I'll give a few guidelines at the bottom of the page that might be useful. Remember, these are not RULES, just SUGGESTIONS.
<p>
<h4>Scope</h4>
<p>
In verge, a variable can be either local or global. This is related to whether a variable is declared inside or outside a <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=10">function</a>. A local variable will only exist for the duration of the function it is in, and will be created every function call. A global variable will exist for the duration of the program itself. Remember, each variable needs a certain amount of computer memory to store it, so even though that's not so much of a problem with modern machines, do try to keep global variables to a minimum. However, at the moment ALL arrays and structs MUST be global, they cannot be declared locally.<br>
Also, scope effects how variable can be named as well. So, you can have to entirely different "x" variables in two different functions, but you cannot have a global "x" and have another "x" variable anywhere else at all.<br>
<p>
<h4>Pointers</h4>
<p>If you do not know what <i>pointers</i> are, skip the next section: you're done with this one. ;)</p>
<p>Verge, for all intents and purposes, has no pointers. As such. However, to understand how it handles images, sounds, entities and suchlike, it's useful to know what it is doing. When you use a Load...() function verge assigns what ever you just loaded some space in memory, and records where it is located. It then assigns a number to that location, and gives it back to you. That number can be later used to tell verge which image you want it to use in a function. It's just like saying 1st, 2nd, 3rd, 4th image and so on - verge removes all of the memory management worries from your shoulders.</p>
<p>However, if you simply <i>must</i> have direct memory access, you can, via a very arcane system, directly access memory.  To read more on v3's DMA, go <a href="./view.php?libid=1&section=11&PHPSESSID=1404b38faf1cbe2fe153ea7a375497fd">[here]</a>.</p>
<p /></div></div><br/></li><ol type=a><li><a id="81" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Integers</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>ints hold non-fractional numerical values.  an int can have a value from -2,147,483,648 to 2,147,483,647.

<pre>
int an_int; //this creates an int named 'an_int'
int another_int; //this creates another int.

an_int = 5; //this sets it to the value 5.
another_int = 3; //another_int is now equal to 3.

another_int = an_int; //another_int is now equal to 5.

an_int = 7; //an_int is now 7, but another_int is still 5.
</pre>

The verge integer is 32 bit, here's a detailed run down of what that means:<br>
In a 32 bit integer, there are 32 bits than can be either on or off<br>
This is 2^32 combinations, or 4294967296<br>
Binary numbers: 0   1   0   1   1.....0<br>
Equivalent to:	2^0+2^1+2^2+2^3+2^4...-2^31<br>
Which is: 1 + 2 + 4 + 8 + 16....-2147483648<br>
Why is the last number (bit) negative?<br>
So we can store all the negative numbers easily as well.<br>
Then it is still just case of adding to bits to get the number.<br>
Note that as 0 has to be stored as well, there is one less positive than negative<br>
So in a 32 bit int, the number can be between -2^31 and 2^31-1<br>
Alternatively in decimal from -2147483648 to 2147483647<br>
Eg. The number 13 is stored as 8+4+1 or 1011000...0<br>
The number -13 is stored as -2147483648 plus everything BUT 8+4 so 11001111...1<br>
Note that the +1 is still on, as negative numbers stretch one lower than positives<br>
Because the top bit is negative, in an overflow case (trying to store to large a number) you will 'wrap around' and get a negative number.</div></div><br/></li><li><a id="85" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Fixed-point</b></u><div style='background-color:#F8EBD8; font-size:11px;'><h3>An overview of fixed-point notation</h3>
<h6>by aen, grade 6</h6>
<p>Fixed-point is a way of treating whole numbers as both whole and fractional parts. It's called fixed point because you decide how much precision you need. Do you need to be able to represent halves? Tenths? Hundredths? Thousandths?
<p>You can sort of think of fixed-point as a "secret code" for numbering. I'm sure you've heard of such numbering systems as binary, hexadecimal, and octal. Binary uses only 1s and 0s. Octal uses the numbers 0 through 7. Hexadecimal uses the numbers 0 through 9 and also the letters A through F.
<p>Fixed-point also has a special sytstem for representing numbers. One example could be the number 100. You could decide, for example, that you want your fixed-point system to be able to track precision into the tenths. In that case, you could say that every ten numbers represent 1 whole number. The number 100, then, would end up being representative of the number 10.
<p>How is that pulled off? The numbers 0 through 9 would equate to 0, 10 through 19 would equal 1, 20 through 29 would equal 2, etc. You can basically "decode" a system like this by dividing a number by 10. This division yields the integer part of your number. The fractional part is the number modulus 10. If you are unfamiliar with modulus, it's just the remainder of a division. For example, 13/10 equals 1 with a remainder of 3, so 3 is your fractional part.
<p>When dealing with tenths, you're always going to have a fractional part of 0 through 9. In this case, these values correspond directly to .0, .1, .2, etc. However, if you decide to go with different precisions, this will not always be the case. If you were dealing in fourths for example (division and modulus by 4), you would have to take that into account when interpreting the fractional part. Fractionl parts are basically percentages of a whole number, so with fourths the fractional part is going to be one of 0, 1, 2, or 3. 0 would be 0% or .0, 1 would be 1/4th or .25, 2 would be 2/4ths or .5, and 3 would be 3/4ths or .75.
<p>You may see a lot of >>8 or >>16 going on in fixed-point examples in C all over the web. This is basically the same as dividing by 256 or 65,536. Usually you'll see >>8 when dealing with 16-bit numbers, since 8 is half that many bits, or >>16 when dealing with 32-bit numbers for the same reason. These systems are capable of precision up to 256ths or 65,536ths, basically. Sometimes people aren't too picky about how much precision is needed, which is why they'll just split things down the middle like that. Bit shifting can also be faster, which is another reason you'll see it all over the place. As long as you understand the concept, you can do it any which-way you want!</div></div><br/></li><li><a id="82" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Strings</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>strings hold phrases of text in them.

<pre>
string your_name; //this creates a string named 'your_name'

your_name = "mud"; //this sets your_name to the value 'mud'
</pre>
Is a string a fixed number of characters?<br>
vec: No. There's limits in some situations.. log and exit() probably have limits of 4k. But general string ops are virtually unlimited. <br>
Gayo: Nyahaha. I set up a loop to double the size of a string with every iteration and got to several hundred megs of memory usage before giving up. <br>
Because the memory is dynamically allocated to the string at runtime, you have very few bounds worries.</div></div><br/></li><li><a id="84" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Arrays</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p> strings and ints may also be put into arrays.  Arrays can only be declared with constant values.

<pre>
int numbers[15]; //makes a list of 15 integers

string names[7]; //this one is a list of 7 strings

numbers[0] = 42; //this sets the first member of 'numbers' to 42.
numbers[14] = 3; //this sets the last member of 'numbers' to 3.

// the following line will do very very bad things
// because it is setting data outside of the array's bounds.
numbers[15] = 3;

//The following is also illegal:
int foo = 17;
int illegal[foo]; //verge does not allow this.
</pre>

<p> Arrays are defined with the number of elements that they contain, but when accessing the elements you start counting with 0.  So if you have 15 elements, they are numbered 0 through 14.
<p> Arrays can also be created in multiple dimensions.

<pre>
//this creates a 2-dimensional array of ints
int mock_screen[320][240];

//this sets element 0,0 of the array to 12
mock_screen[0][0] = 12;

//this sets element 123,79 of the array to 43
mock_screen[123][79] = 43;


//this creates a 3-dimensional array of ints.
string goats[100][100][100];

//this sets element 0,41,12 of this array to "Toothgnip".
goats[0][41][12] = "Toothgnip";

//this makes a 10-dimensional array of ints.
//making a multi-dim array this big is stupid,
//but possible.
int tacos[5][4][17][22][79][34][11][19][7000][2];
</pre>

<p> You cannot set an array instance equal to another array instance.  You may only set array elements.  To wit, the following is completely bad and wrong:

<pre>
int list_a[100];
int list_b[100];

list_a = list_b; //NO!
</pre></div></div><br/></li><li><a id="86" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Structs</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p> The struct is a custom-made type of variable that you can put multiple ints and strings inside of.

<pre>

//
// The below defines a struct named 'user'

struct user
{
  int id;
  string name;
  int coolness;
  string pet_names[15];
  int bank_account_numbers[4];
}

//
// Now that 'user' is defined, we can make specific
// instances of it

user mcgrue;
user vecna;

//
// And now we can alter these instances just like you
// could alter an int or string... except with special syntax!

mcgrue.name = "Ben";
vecna.name = "Also Ben";
vecna.coolness = 7;
mcgrue.pet_names[0] = "Oliver";

//Note: While you can set the member variables of a struct,
// you cannot copy an entire struct's contents to another instance
// of that struct.  To wit, the following is completely illegal:

<span class=error>mcgrue = vecna; //THIS WILL NOT COMPILE.</span>
</pre>

<p> and finally, you can make arrays and multidimensional arrays of structs.  This is generally the best way to use structs since you cannot copy them via reference like in the previous example, so to move them around it's best to keep them all in the same array.

<pre>

struct point
{
  int x, y, z;
  int color;
}

//makes an array of 1000 points
point buncha_points[1000];

//this set's element 3's x-variable to 20.
buncha_points[3].x = 20;
</pre></div></div><br/></li></ol><li><b><a href="#2"> </a><div style='font-size:14px; border:1px solid black; padding:0.35em; background-color:#E6FBE4;'><big>Language Specification</big></b><div style='font-size:12px;'><p>VergeC, or vc, is a C-like scripting language created specifically for use in creating VERGE games.</p>

<p>You create vc files in any text editor you want, and when you run verge.exe (with <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=58">releasemode 0</a> set in your <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=58">verge.cfg</a>), the engine will attempt to compile your code starting with a mandatory system.vc file in the same base directory as the engine file, and then any other vc files you <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=9">#include</a> therein.

<p></div></div><br/></li><ol type=a><li><a id="7" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>basic syntax</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>As a C-like scripting language, vc has certain syntax rules that need to be adhered to.  For veteran coders, much of this will be old-hat.</p>

<p>First off, the semicolon is analguous to a period in english.  It denotes the end of a statement.  Whenever you declare a variable, set a variable, or call a statement, you need to end the line with a semicolon, like so:</p>

<pre>
int a_variable;

a_variable = 42;

some_function();
</pre>

<p> Curly braces are also prevalent, acting as bookends between a block of code.  Whenever using conditionals or defining a function, you will be using curly braces to delimit the boundaries of the conditional or function, like so:</p>

<pre>

void some_function()
{
	if( a_variable == 42 )
	{
		exit( "Ah, yes... but what was the question?" );
	}
}

</pre>

<p>Notice how everytime I opened a curly brace I tabbed everything in a level, and when the curly brace was closed I deleted that level of tab.  This is not strictly neccesary, but a very good habit to get into to make your code more readable to others... which is an exceptionally good thing if you want help debugging your program from others. ;)</p>

<p>The rest of the syntax will be covered in their specific sections.  A whole plethora of odd symbols awaits the novice programmer.  You can find syntax highlighting files for text editors in the <a href="http://www.verge-rpg.com/files/listing.php?id=1&cat=99">[files section]</a>.  We strongly suggest you get one and use the appropriate text editor (everyone on the verge development team uses <a href="http://www.textpad.com">[textpad]</a>).  We would be lost in a sea of bland symbols ourselves without syntax highlighting, you surely shouldn't go it without.</p>

<p></div></div><br/></li><li><a id="133" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Operators</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>For those of you familiar with C, I'll give you a quick rundown (everyone else skip this paragraph): VERGE has pretty much all the C operators you'll need except pointer stuff. It has no order of operations. There's no *=, /=, or %=, but there is a += and -=. The assignment operators <i>do not return values</i> and as such cannot be used inside an arithmetic or logical expression. Logical operators can't be used in arithmetic expressions. There's no bitwise NOT. You can't use assignment operators in logical or arithmetic expressions. Since all integers are signed, bitshifting is automatically signed as well. You can't use parentheses to change the evaluation order of a logical expression.

<p>Verge contains five kinds of "operators" used to build statements. An operator is a symbol which, when combined with one or more "operands" (constants, variables, or expressions), changes the value of the operands or produces a new value based on them. For example, the + arithmetic operator takes two integer operands and produces a new integer which is the sum of those two.
<p>Operators are either unary or binary; that is, they take either one or two operands. Unary operators either precede or follow their operands, whereas binary operators have are placed in between their two operands. The + operator mentioned above is binary, so its operators are placed on either side; to produce the sum of 5 and 6, we type "5 + 6". Except where otherwise stated, all the operators described below are binary.
<p>
<b><u>ARITHMETIC OPERATORS:</u></b>
<p>The arithmetic operators represent fundamental mathematical operations such as addition and subtraction.
<p>Addition (+): The addition operator generates a new number that is the sum of its operands.
<p>Subtraction (-): The subtractio operator generates a new number that is the difference of its operands. Order is important; the operand <i>after</i> the minus sign is subtracted from the one <i>before</i> it.
<p>Multiplication (*): The multiplication operator generates a new number that is the product of its operands.
<p>Division (/): The division operator generates a new number that is the quotient of its operands. As with subtraction, order is important; the first operand is the numerator, the second the denominator. This is integer division, which means that the final value is always an integer, rounded <i>down</i> if necessary.
<p>Modulus (%): The modulus operator returns the remainder of the division of the first operand by the second.
<p>Arithmetic operators can be combined into complex arithmetic expressions. They are evaluated from left to right; that is to say, there is no order of operations. To enforce a specific evaluation order, you may use parentheses.

<pre>
// Arithmetic Operator examples
int n = 0;      // n starts out as 0

n = 2 + 3;      // Addition: n is now 5
n = 12 - n;     // Subtraction: n is now 7
n = 2 * 4;      // Multiplication: n is now 8
n = n / 2;      // Division: n is now 4
n = 10 % 3;     // Modulus: n is now 1 (the remainder of 10 / 3)

// Examples of complex expressions

n = 1 + 3 * 5;                    // n is now 20 (since there's no order of operations)
n = 100 % (9 * 3);                // n is now 19 (the remainder of 100 / 27)
n = 2 * (5 - (7 * 3));            // n is now -32

</pre>

<p><b><u>BITWISE OPERATORS:</u></b>

<p>Bitwise operators are so called because they operate individually on every bit of a (32-bit signed) integer. Because they manipulate numbers on a binary level, they are somewhat tricky for beginners. If you feel comfortable with them, however, you can use bitwise operators freely in arithmetic expressions.

<p>Bitwise OR (|): The Bitwise OR generates a new value by ORing each bit of the two operands. What this means is that the new value will have a 1 in each bit location where either or both of the operands had a 1, and a 0 in every other bit location.
<p>Bitwise AND (&): The Bitwise AND generates a new value by ANDing each bit of the two operands. What this means is that the new value will have a 0 in each bit location where either or both of the operands had a 0, and a 1 in every other bit location.
<p>Bitwise XOR (^): The Bitwise XOR generates a new value by exclusive-ORing each bit of the two operands. What this means is that the new value will have a 1 in each bit location where either one or the other <i>but not both</i> of the operands had a 1, and a 0 in every other bit location.
<p>Left Bitshift (<<): The Left Bitshift operator generates a new number which is its first operand with all the bits shifted left a number of spaces equal to the value of the second operand. If this sounds confusing, here's an easier way to think about it: in the expression m<<n, the value returned is equal to m multiplied by 2 to the nth power.
<p>Right Bitshift (>>): The Right Bitshift operator generates a new number which its its first operand with all the bits shifted right a number of spaces equal to the value of the second operand. In the expression m>>n, the value returned is equal to m divided by 2 to the nth power (using integer division, naturally).

<p><b><u>LOGICAL OPERATORS:</u></b>
<p>The logical operators can be used only in the conditions of if and while statements. They return either true (a nonzero number) or false (zero). Like arithmetic operators, logical operators take integer variables, constants, or expressions (arithmetic or logical) as their operands, and are evaluated from left to right. However, as of this writing, you cannot change the evaluation order of a logical expression using parentheses.
<p>Equality (==): The Equality operator returns true if the two operands are equal; otherwise, it returns false. It is represented as a double equals sign to differentiate it from the Assignment operator (which see). Note that neither strings nor structs can be used as logical operands, so this operator cannot be used to test their equality.
<p>Inequality (!=): The Inequality operator returns true if the two operands are inequal; otherwise, it returns false.
<p>Greater Than (>): Greater Than returns true if the first operand is greater than the second; otherwise, it returns false.
<p>Lesser Than (<): Lesser Than returns true if the first operand is lesser than the second; otherwise, it returns false.
<p>Greater Than or Equal To (>=): Greater Than or Equal To returns true if the first operand is greater than or equal to the second; otherwise, it returns false.
<p>Lesser Than or Equal To (<=): Lesser Than or Equal To returns true if the first operand is lesser than or equal to the second; otherwise, it returns false.
<p>Logical OR (||): The logical OR returns true if either or both of its operands are true; otherwise, it returns false.
<p>Logical AND (&&): The logical OR returns true only if both of its operands are true; otherwise, it returns false..
<p>Logical NOT (!): The logical NOT is a unary operator that precedes its operand. It returns true if its operand is true; otherwise it returns false.

<p>Note that there is no logical XOR in VERGE.

<p><b><u>ASSIGNMENT OPERATORS:</u></b>

<p>Assignment operators are special in that they actually change the value of one of their operands. The operand to be changed must be a variable, since only variables can have their values altered. Assignment operators are also unique because they do not return values; for this reason, they cannot be used inside expressions.

<p>Assignment (=): The ordinary assignment operator changes the the value of the first operand to the value of the second.
<p>Increment (++): Increment is a unary operator that follows its operand. It increases the value of its single operand by 1.
<p>Decrement (--): Decrement is a unary operator that follows its operand. It decreases the value of its single operand by 1.
<p>Increase (+=): The Increase operator increases the value of the first operand by the value of the second.
<p>Decrease (-=): The Decrease operator decreases the value of the first operand by the value of the second.

<p>The ordinary assignment operator (=) can be used within a declaration statement to initialize a newly declared variable to a specific value.

<pre>
// Assignment operator examples
int n = 2;        // n is declared and assigned the value of 2
n = 7;            // n is assigned the value of 7
n++;              // n is now 8
n--;              // n is now 7 again
n += 12 + n;      // n is now 26
n -= n;           // n is now 0
</pre>


<p><b><u>STRING OPERATORS:</u></b>

<p>There are only two string operators in VERGE. They accept only string variables, string literals, and functions that return strings as their operands.

<p>String Concatenation (+): The string concatenation operator is the plus sign, just like the addition operator. Since the operator is preceded by its first operand, the compiler figures out whether it's doing addition or concatenation by looking at the type (int or string) of that operand. Concatenation produces a new string composed of the second operand appended to the first.
<p>String Assignment (=): The String Assignment operator is identical to the ordinary assignment operator, except it functions on strings rather than integers.</p>

<pre>
// String concatenation examples
string s = "";                     // s is declared and set to an empty string
string s = "hell" + "o";           // s is now "hello"
string s = "why " + s + " there";  // s is now "why hello there"
</pre>

<p>Note: You can't do these togther with the += operator.</p>

<pre>string s = "Fish";
s += " and Chips"; // NOT valid
s = s + " and Chips"; // Use this instead</pre></div></div><br/></li><li><a id="4" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Comments</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>Just as in VC1 and VC2, both C and C++ style comment conventions are supported.

<p>Comments: Comments are not required in your VergeC code, but smart coders will use them to help organize and make their scripts readable for future reference. They are ignored by the compiler. There are two ways to use comments:

<ol type=a>
<li> If you type a double slash (//) in your code, everything on that line after the slashes will be ignored.

<pre>
void dex_join  // #75: When Dexter joins
{
	AddPlayer(3);
}
</pre>

<li>The second method is to use /* and */. When the compiler encounters a /*, everything will be ignored until it sees a */. Example:

<pre>
void dex_join
{
	/* This is the part where Dexter joins after
	being seen on the path of Jujube mountains.
	The event below is number 75. */

	addcharacter(3);
}
</pre>
</ol>

<p>The // is preferred for simple phrases that you wish commented, while the /* */ method is best for large areas of text to be left commented.

<p>NOTE: Try using commenting if you have a problematic area of your event script that refuses to compile. Use // before the lines that create errors and try recompiling until you can isolate the problem.</div></div><br/></li><li><a id="9" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>preprocessor directives</b></u><div style='background-color:#F8EBD8; font-size:11px;'>Preprocessor directives are special statements that begin with a pound # sign, and are the only ones that don't need the semi-colon ; at the end. <br><br><br>



Preprocessor directives must be in a linear order, and BEFORE the code to keep certain errors from coming up. <br><br><br>



There are two important directives: <br><br><br>



1) #include "[filename]" <br><br>

Includes a file to be compiled in addition to SYSTEM.VC. This is recommended to have a neat categorizing of your codes. The filename is quotes and must also have the extension at the end of the filename with it. <br><br><br>



Example: <br><br>

#include "draw.vc" <br><br><br>



2) #define A B <br><br>

#define is basically a seek-replace statement. Where A will transform into B after being compiled. You can use a define like you would a string or int but you can never change their value after its initially set. It can be used for thign such as file paths, debugging, or keeping track of numbers and their interpretation with different functions such as the scan codes and color filters<br><br><br>



Example: <br><br>

#define MAX_PARTY_MEMBERS 5 <br><br>

int partyIndex[MAX_PARTY_MEMBERS];
<br><br></div></div><br/></li><li><a id="5" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>control structures</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>VergeC 3 supports most of the code control structures that genuine ANSI C
does, with some differences that are explained below:

<ol type=1>
<li>IFs: if statements are the most basic form of code execution control. They have been much improved since VC1, primarily from the addition of OR conditionals as well as the ELSE branching statement. The basic format of an IF is:
<pre>
if (condition <list>)
{
	(code to be executed if condition is true)
}
else
{
	(code to be executed if condition is false)
}
</pre>
<li>SWITCHs: switch/case statements basically replace a series of IF statements. Cases are yet another method of simplifying and empowering your VC code's flexibility. They are most useful in situations where you wish to provide multiple results based on the condition of some variable. Here's how they're used:
<pre>
Switch(<zvariable to be tested>)
{
	Case <result 1>: <command>;
	Case <result 2>: <command>;
	Case <result 3>: <command>;
}
</pre>
<p> When the interpreter encounters this construct, it will test the value of what is given in the Switch parentheses, then run the Case statement that matches it, if any. Note that unlike C, no break; statements are in the below example; break statement in VC are not only unnecessary but will cause an error if they are present. Example:

<pre>
switch ( Party[0] ) //checking the first person in the party...
{
	case 1: Text(DARIN,"My name's Darin and I'm leading this party!","","");
	case 2: Text(SARA,"I'm Sara and I'm here to pump you up!","","");
	case 3: Text(DEXTER,"Dexter is leading this party.","","");
}
</pre>

<li>FOR loops:FOR loops are perhaps more commonly used than WHILE, altho I personally dig WHILE loops greatly. Anyhow, FOR loops in VergeC 2.0 are much closer to their true C counterparts than they were in VC1. The syntax now is:

<pre>
for (init; condition; post)
{
	commands;
}
</pre>
<p>To clarify, an example would be:</p>
<pre>
for (i=0; i<5; i++)
{
	printstring(i,"This is font "+str(i)+".");
}
</pre>

<li>WHILE loops: These work much the same as FOR loops do, but can use nearly any condition to control how long it executes. The syntax is such:
<pre>
while (<condition>)
{
	commands;
}
</pre>

<p>The condition inside the parentheses after WHILE can be anything you can stuff in an IF statement. When the engine encounters a WHILE loop, it will repeatedly execute the commands inside the curly braces until the condition inside the parentheses is NOT true. Therefore, your WHILE loop should contain some commands that affect that condition, or else your loop will run endlessly.
</ol>

V3 logical expressions are not short-circuited: every part of the condition is evaluated, even if unnecessary. </div></div><br/></li><li><a id="10" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>Verge does not support prototypes.  Do not use them.  Indeed, prototypes are not necessary at all in verge.  All function names are known to all other functions. --chillaxen
<p>
eg:  (no need for this)
<pre>
int func( arg1, arg2);

void autoexec()
{
   /* code */
}

int func( arg1, arg2)
{
   /* code */
}
</pre>
<p></div></div><br/></li><li><a id="6" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>system and map code</b></u><div style='background-color:#F8EBD8; font-size:11px;'>Since V2, VERGE has had this concept of separate <b>system</b> codespace and <b>map</b> codespace.  While in V1, everything happened in the map VC, in V2 and V3, the majority of the important code is now in the realm of the system code, while only events and code relevant to that map is in the map codespace.<br><br>

In V3, the only 3 files you need to make a barebones VERGE game are verge.exe, fmod.dll, and system.vc. <br><br>

Inside system.vc, the function autoexec() is called once verge has finished initializing.  That is your entry point.  You can #include any number of additional .VC files into your system.vc in order to provide a logical breakdown of your code components into different source files, for instance, menu.vc, effects.vc, etc.  These are all considered to be part of the system codespace.<br><br>

Any functions, variables, or structs you declare in any system file are considered globally accessable.  You can access system code and variables from a map VC.  In general, most of the descriptions of code you will see in tutorials and discussions on the forum are implicitly describing system VC code.  Aside from some enhancements, the general concept and structure of system VC code has not changed since V2.<br><br>

Map code, however, has changed a good bit since V2.  In V2, your map code consisted of numbered events rather than the named functions you see in system VC code.  <br><br>

In V3, its more accurate to think of a map's VC code as an extension of system.vc, but that only 'exists' while that particular map is loaded.  In reality, the functions that are declared in your map VC are simply added onto V3's list of system functions when the map is loaded, and unloaded when the map is changed.  You can declare as many named functions as you like, functions that return values, helper functions, functions with local variables.<br><br>

Its important to understand however that these functions only exist when that map is laoded. This has the following consequences:
<ul>
<li>If you declare a foo() in system.vc, you cannot declare a foo() in map1.vc.  However, if you have chest() function in map1.vc, you can also have a chest() function in map2.vc - provided you don't already have one in system.vc. </li>
<li>Lets say you have function Camel() in system.vc, and you have funtions Llama() and Hamster() in your map1.vc. From your map code, you can call Camel() directly.  However, because Llama() only exists when this particular map is loaded, and other maps may have their own functions named Llama(), it is impossible to know at compile time, which Llama() to call from a system.vc function.  So you cannot <i>directly</i> call Llama() from a system function.  What you can do is use CallFunction("Llama"), which will call the function if it exists at that time, or simply return and do nothing if that function does not exist at runtime. <br><br>

While you cannot call a map vc function directly from a system vc function, you can call another map function directly from another function in that same map file.  In the above example, you could call Llama() from Hamster() directly without needing to use CallFunction, because it is known at compile time exactly which function you're talking about.</li>
<li>Because of this concept that the functions declared in a map VC only exist while that map was loaded - in addition to certain technical considerations - it was decided that <b>you cannot declare global variables in a map VC file</b>.  You can declare local variables in your map VC functions, and you can use global variables declared in system.vc.  But you cannot declare global variables in a map VC file, because they would cease to exist when the map was unloaded.  While we intuitively think of a local variable as being non-persistent between function calls, we DO think of global variables as being persistent, so having your global variables pop out of existence would be confusing and prone to bugs.</li></ul>

One other note.  While event zero was always the 'autoexec' event of a map in V2, in V3, each map has (in the Map Properties dialog) a simple string arguement called startup script. This is simply the name of the function - if any - you would like called when the map is loaded.  Since I said before that MAP VC is simply an extension of system VC that only exists for that map, you can use either a system VC function name or a map VC function name as your startup script - or for any other script arguement, such as an entities activation script, or a zone's script.<br><br>

This also means that you can do things like: Set your HookRender function to a MAP vc name and leave it. If the function does not exist, the HookRender will simply do nothing. When you enter a map that defines that function name, it will be used for the HookRender, and when you enter a different map that uses the same function name, that map's appropriate function will be used instead.</div></div><br/></li><li><a id="11" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>DMA</b></u><div style='background-color:#F8EBD8; font-size:11px;'>Access a DMA buffer via the following arrays:<br>
dma.byte[]<br>
dma.word[]<br>
dma.quad[]<br>
dma.sbyte[]<br>
dma.sword[]<br>
dma.squad[]<br>
<p>
The latter three use a signed representation of the data for reading purposes.
<p>
<pre>
int buf = malloc(10);
int ofs = 4;
dma.byte[buf+ofs] = -1;
messagebox(dma.byte[buf+ofs]); //will display 255
messagebox(dma.sbyte[buf+ofs]); //will display -1
</pre></div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>Malloc</b></big> (<i>int size</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Allocates a chunk of memory and returns a pointer handle to it.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns a pointer to a newly allocated memory space of the specified size. NOTE: This function is NOT intended for general use. It is only for advanced users. There is rarely a<br/>need to use it. Memory blocks allocated with Malloc should be freed with MemFree, which is not interchangeable with FreeImage, FreeSound, FreeFont, or anything else.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int myptr = Malloc(256); //myptr now points to a 256-byte block of memory.</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>MemCopy</b></big> (<i>int source, int dest, int size</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Copies a block of memory from one location to another.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Does a direct memory copy between two pointers. This is an advanced function and should, generally speaking, not be used. ^_^
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int ptr1 = Malloc(256);
int ptr2 = Malloc(256);

MemCopy(ptr1, ptr2, 256);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>MemFree</b></big> (<i>int pointer</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Frees a malloc()-allocated block of memory.  INCOMPATIBLE WITH NON-DMA MEMORY.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Frees a memory block allocated with Malloc. NOT interchangeable with any other Free function, such as FreeImage. Other V3 constructs such as images, fonts, and sounds are virtual<br/>objects which return handles and not direct pointers.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int myptr = Malloc(256);

MemFree(myptr);</pre></td></tr></table><br/><br/></ol><li><b><a href="#128"> </a><div style='font-size:14px; border:1px solid black; padding:0.35em; background-color:#E6FBE4;'><big>Engine</big></b><div style='font-size:12px;'><p>Download the <a href="http://www.verge-rpg.com/files/get.php?id=480">Current Engine</a>. This has no pack-in demo, but includes everything you need to start making games in Verge3.</p>

<p>Here is a list of the contents of the engine download, and what each file is.
<ul>
<li><i><b>chrmak5.exe</b></i> - The sprite maker for Verge3. It's called "Character Maker 5". <a href ="http://www.verge-rpg.com/docs/view.php?libid=5">See the documentation</a>.</li>
<li><i><b>corona.dll</b></i> - This is Corona, an image loading library. Used by maped3.exe, I think. <a href="http://corona.sourceforge.net/">Detailed information here</a>.</li></li>
<li><i><b>darin.mak</b></i> - A sample sprite creation file. ChrMak5 uses these to create V3 sprites.</li>
<li><i><b>darin.pcx</b></i> - The actual graphic data for a sprite. PCX is a graphic format similar to BMP.</li>
<li><i><b>fmod.dll</b></i> - A music playback library. It is one of the few files Verge.exe requires. <a href="http://www.fmod.org/">Detailed information here</a>.</li>
<li><i><b>maped3.exe</b></i> - Maped3.exe is the Verge3 Map Editor. It loads, edit, and creates 2D tile maps for use in Verge. <a href ="http://www.verge-rpg.com/docs/view.php?libid=4">See the documentation</a>.</li>
<li><i><b>MapedPreferences.xml</b></i> - This file stores settings for Maped3.exe. You dont need to mess with it.</li>
<li><i><b>MRU.dll</b></i> - ?????????????? It may be used with Maped3.</li>
<li><i><b>packed.exe </b></i> - A program that edits and creates Verge3 .pak files, which are collections of graphics, sound, and code contained in a single file. Packfiles are kind of like a zip file, but only Verge3 uses them. DOCUMENTATION IN PROGRESS.</li>
<li><i><b>pr2-common-cpp.dll</b></i> ?????????????????</li>
<li><i><b>README.TXT</b></i> - This is a readme from Verges creators, which tells about the engine.</li>
<li><i><b>RegisterFileType.dll</b></i> - This is used by maped to register the .map extension, which means any V3 Map file can be opened by double-clicking on it.</li>
<li><i><b>Render.dll</b></i> - ??????????????I imagine this is used by maped3 to render the map on the screen.</li>
<li><i><b>system.vc</b></i> - This is a sample System VergeC code file.</li>
<li><i><b><a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=129">v3changes.txt</a></b></i> - The changelog that's updated from build to build.</li>
<li><i><b>v3vergec.txt</b></i> - This is code reference with all types of information on functions and variables for VergeC. When you learn to program in VergeC, this will come in handy.</li>
<li><i><b>verge.exe</b></i> - Verge.exe is the actual Verge3 engine. When you download a game, you run Verge.exe to run the game.</li>
<li><i><b>zlib.net.dll</b></i> - Zlib is used to compress images. Maped3 uses it for tile image data, I imagine. <a href="http://www.gzip.org/zlib/">Detailed information here</a>.</li>
</ul>
</p></div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>Malloc</b></big> (<i>int size</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Allocates a chunk of memory and returns a pointer handle to it.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns a pointer to a newly allocated memory space of the specified size. NOTE: This function is NOT intended for general use. It is only for advanced users. There is rarely a<br/>need to use it. Memory blocks allocated with Malloc should be freed with MemFree, which is not interchangeable with FreeImage, FreeSound, FreeFont, or anything else.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int myptr = Malloc(256); //myptr now points to a 256-byte block of memory.</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>MemCopy</b></big> (<i>int source, int dest, int size</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Copies a block of memory from one location to another.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Does a direct memory copy between two pointers. This is an advanced function and should, generally speaking, not be used. ^_^
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int ptr1 = Malloc(256);
int ptr2 = Malloc(256);

MemCopy(ptr1, ptr2, 256);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>MemFree</b></big> (<i>int pointer</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Frees a malloc()-allocated block of memory.  INCOMPATIBLE WITH NON-DMA MEMORY.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Frees a memory block allocated with Malloc. NOT interchangeable with any other Free function, such as FreeImage. Other V3 constructs such as images, fonts, and sounds are virtual<br/>objects which return handles and not direct pointers.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int myptr = Malloc(256);

MemFree(myptr);</pre></td></tr></table><br/><br/><ol type=a><li><a id="130" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>verge.cfg options</b></u><div style='background-color:#F8EBD8; font-size:11px;'>xres [res] -width of screeen in pixels <br>
yres [res] -height of screeen in pixels (note this is different than vid_mode or whatever). <br>
nosound [0/1] - turn sound on or off <br>
windowmode [0/1] - fullscreen mode or windowed mode <br>
automax [0/1] - maximizes window automatically <br>
releasemode [0/1] - to compile or not to compile <br>
startmap [mapname] - initial map<br>
vcverbose [0/1] - controls whether or not verge generates vccverbose.txt during compilation (default 0)<br>
<br>
(from v3changelog.txt)<br>
 - Added 'gamerate' verge.cfg option, will set the timer think rate. Note that using the default of 100 is highly recommended unless you know what you're doing - changing this value will effect the timing of EVERYTHING.</div></div><br/></li><li><a id="129" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>changelog</b></u><div style='background-color:#F8EBD8; font-size:11px;'><pre>========================================
09/28/04
 - Fixed bug in 32-bit, 50% lucent vertical line render
 - Fixed bug in idle frame handling of follower entities
 - Added code that validates animations when a VSP is loaded.
   Previously if a tileset had an animation which referenced
   tiles greater than the number of tiles in the tileset (because
   some were deleted), the engine would simply crash at random
   times and give no indication of the cause.
 - Fixed a bug relating to a #define being the last line
   of an #include causing valid VC code to not compile
 - Fixed a crash bug when an integer type is passed
   as a string argument
 - Fixed a crash bug with non-arrayed strings in
   a non-arrayed struct
 - Added CF_CUSTOM color filter mode, along with
   SetCustomColorFilter(int color1, int color2)
 - Added netcode.

========================================
08/01/04
 - Added RenderMap() to allow rendering chunks of map direct to
   an image you specify.
 - Added SetButtonKey() and SetButtonJB() to allow remapping of
   b1-b4; up/down/left/right cannot be remapped because in both
   keyboard and joystick handling, special processing is done
   for these.
 - Bug fixed in FileReadString()
 - Fixed bug causing SetEntitiesPaused() to totally stop responding
   to the message queue in the main game loop
 - FontHeight() no longer returns... the font width.
 - Fixed a bug in PrintRight()
 - automax 0 works again.
 - Added FunctionExists()
 - Added atan2()
 - Added windows clipboard functions CopyImageToClipboard() and
   GetImageFromClipboard() and the variable clipboard.text
 - Corrected a bug in the vc error system that performs reverse-
   lookups on code offsets for stack traces. This should help fix
   some situations where VERGE crashes due to a (runtime) VC error
   rather than return an error message.
 - Added GetInt(), SetInt(), GetString(), SetString(),
         GetIntArray(), SetIntArray(), GetStringArray(), and SetStringArray()
 - EntityStop() will now abort any delay commands
 - Added FlipBlit()
 - SetRandSeed() will now give deterministic results.
 - Improved line number error reporting drastically.
 - Added 'vcverbose [0/1]' verge.cfg command to control if the vc compiler outputs
   vccverbose.txt (defaults 0)
 - cameratracking = 2 functionality added, cameratracker variable added
 - Added several new variables:

	entity.visible
	entity.obstruct
	entity.obstrucable
	entity.script

	curmap.w
	curmap.h
	curmap.startx
	curmap.starty
	curmap.name
	curmap.rstring
	curmap.music
	curmap.tileset

	layer.lucent

========================================
04/21/04
 - Bug in renderstring parser fixed.
 - HookTimer() crash bug fixed. (between this and the above fix,
   it seems most win98-related crashes are gone now too)
 - SCAN_GPLUS is now correctly defined.
 - Upon ChangeCHR(), the entity animation/specframe/etc state will
   be reset to prevent out of bounds frame errors.
 - Maximum image capacity has been increased.
 - Added 'P' and 'T' commands to entity movestrings. P will enable
   pixel-accurate arguements to U/D/L/R (X/Y will still work in tile
   increments). T will set it back to tile increments.
 - Added 'gamerate' verge.cfg option, will set the timer think rate.
   Note that using the default of 100 is highly recommended unless you
   know what you're doing - changing this value will effect the timing
   of EVERYTHING.
 - You'll no longer get a message looking for a map file if autoexec
   returns without a Map() or Exit() call.
 - Added SetEntitiesPaused() to pause/unpause automatic entity processing.
 - Added SetRandSeed() to allow setting the random number generator seed.
   Note that passing a value of 0 will set a random seed (since generating
   a random seed can be tricky if you already set the random generator's
   seed to something deterministic).
 - Bug causing the maximum volume of SetSongVol() to be 666 (!) instead
   of 100 fixed. I swear, if you saw the math going on, ... 666... wtf.
 - Added HookKey() and HookButton()
 - Tweaked font spacing for fixed-width fonts.
 - Introducing the V3 Sprites system! This is a preliminary version,
   additional improvements are planned for the next build, including
   horiz/vert flipping, layer specification, and a sprite-thinking
   callback system that will assist people that have a hard time writing
   timer-based code :D

========================================
04/09/04
 - GetObsPixel is fixed.
 - entity.frame[] will now account for idle frames.
 - Idle frames will now be the idle frames specified in the
   CHR, not the first frame of the walking animation for that
   direction.
 - cameratracking is fixed.
 - Samples will no longer loop when played regardless of the
   default looping setting of the sample.

========================================
04/04/04
 - Map/Entity/CHR system.
 - Map VC system implemented.
 - Issue with Random seeding has been corrected.
 - Tools and stuff released.

========================================
02/22/04
 - Mikmod out. FMOD in. Music API restructured.
   There is now a "simple music" API and an advanced
   music API, which is needed to do things like
   crossfading, pausing, and manipulation of music position.
   Both APIs fully support modules, MIDIs and mp3/oggs.
   Sound effects can also be either wav or mp3/ogg.
   (however they are handled differently. sound effects are
   fully loaded into memory; mp3s played as music are streamed)
 - A bug in for() loops was fixed.
 - The "system" font now renders to any image correctly.
 - A few new window management routines were added.
 - Some new string-handling functions. TokenCount() and
   GetToken() will aid with breaking a string apart for
   purposes of word wrapping for instance. Also added
   ToUpper() and ToLower().
 - LoadFont no longer takes w/h arguments. The cell size
   is automatically detected. Its not foolproof however, in
   cases where the autodetection fails, you can still use the
   original loader that takes width/height, now named
   LoadFontEx.
 - Joystick variables are now activated.
 - Miscellaneous new VC commands: FontHeight(), MixColor(),
   and chr().
 - Fixed a bug involving string arrays causing problems with
   all strings declared after it by not updating the offsets
   correctly.
 - Fixed a bizarre bug with launching v3 from Textpad :o
 - Using %s or other %codes in VC strings wont screw stuff
   up anymore.
 - Added lastkey; returns the last key pressed as an ASCII
   character
 - Eagle/2xSAI has been removed until such time as we get around
   to fixing it and putting it back in or giving a care about it
   in general
 - Preliminary AVI playback is in. There are still some bugs
   and quirks that we are working out. We HIGHLY RECOMMEND
   that you use only simple codecs like intels Indeo and not
   DIVX/XVID due to codec compatibility issues. Unless you
   plan to make an installer and include the codecs your
   game uses. ^_^

</pre></div></div><br/></li><li><a id="132" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>planned features</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>Next Build:</p>
<p>Well, all the stuff that was on this list is now done. But we can look forward to binary trees (faster compile, better error reporting and faster <a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=56">CallFunction()</a>. Also, hopefuly a little more stuff with entities. :D</p></div></div><br/></li><li><a id="131" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>known issues</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>Crash on returning from switch () statements. Use an intermediary varaible or if () instead.</p>
<pre>int ReturnSomething(int pass) // This will crash
{
	switch (pass)
	{
		case 23: return 1;
		case 24: return 0;
	}
}

int ReturnSomething(int pass) // So use this instead
{
	int thingy;
	switch (pass)
	{
		case 23: thingy = 1;
		case 24: thingy = 0;
	}
	return thingy;
}

int ReturnSomething(int pass) // Or this
{
	if (pass == 23) return 1;
	if (pass == 24) return 0;
}</pre>
<p>No unary operator. There are workarounds.</p>
<pre>x = -1; // verge does not like this
x = 0-1; // So use this instead
if (!x) // This is fine - there's a custom handler for this case</pre>
<p>#defines tend to behave a little oddly. Use global variables instead if you run into problems. (probably all fixed now)</p>

<p>Hex can be fussy. Use plain numbers instead if you run into trouble</p>
<pre>if (w & $FF00 == $FF00)
{
    // BROKEN
}
if (w & 65280 == 65280)
{
    // Using decimals works fine
}</pre>
<p>Various win98 issues, such as <a href="http://www.verge-rpg.com/boards/display_thread.php?id=21530">window size problems</a>.</p>



<p>MOAR TO BE ADDED</p></div></div><br/></li></ol><li><b><a href="#12"> </a><div style='font-size:14px; border:1px solid black; padding:0.35em; background-color:#E6FBE4;'><big>Function Reference</big></b><div style='font-size:12px;'></div></div><br/></li><ol type=a><li><a id="30" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>General Utility Functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'>For the General System Variables, go <a href="/docs/view.php?libid=1&section=32&PHPSESSID=1404b38faf1cbe2fe153ea7a375497fd">[here]</a>.</div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>CallFunction</b></big> (<i>string funcname</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Executes a function by the name it&#039;s given.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Calls a function by name. This can be useful for creating "function tables" of a sort, which might be useful for item effects or magic visual effects or things like that.

The<br/>function to be called MUST take no parameters. It may or may not return void, but it is impossible to catch the return value when called this way.

If you wish to simulate<br/>arguments and return values, it is neccesary to use global variables for both roles.  Be careful in doing this, as it leaves a lot of room for user error.  I would suggest heavy<br/>error checking within the functions, unless the CallFunc is something that's being called frequently.

If the specified function name does not exist, or is a v3 builtin function,<br/>CallFunction() will just do nothing (no error messages).  If you care that a function exists, please refer to FunctionExists(). </tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//
// A simple example.
//

void MyFunc()
{
	exit( "Hello world!" );
}

void Autoexec()
{
	CallFunction("MyFunc");
}



//
// A more complicated example<br/>illuminating the possibilities of this function
//

void FuncA()
{
	log( "Function A was called!  Eeeeh!" );
}

void FuncB()
{
	log( "Function B was called!<br/>Bzzzz..." );
}

void Autoexec()
{
	int i, j; //for the for-loop lower down...

	// let's make a lookup table
	string MyLookupTable[2];

	// and now we initialize<br/>it...
	MyLookupTable[0] = "FuncA";
	MyLookupTable[1] = "FuncB";

	//and now let's set up a silly way to make it look things up
	for( i=0; i</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>Exit</b></big> (<i>string message</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Quits the VERGE Engine with the supplied message.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Exit terminates the verge engine application.

If the message string is empty, it will exit immediately with no message box.

If the message string is not empty, the a message<br/>box will pop up with the exit message displayed, when the message box is closed the application will end.

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>
//this exits the program without an alert window.
Exit("");


//this exits the program with a little self-centered promotion! :D
Exit("http://vecna.verge-rpg.com");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>FunctionExists</b></big> (<i>string funcname</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Determines the existance of a given function based on it&#039;s name.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns 1 if the function named in the argument exists, 0 if it doesn't exist.  However, it does so with the following caveats:


v3 builtin functions will return 0.
All<br/>user-defined system functions will return 1.
All map-specific functions will only return 1 if the map with that function is loaded. ie: if island.map has a Sully() in it's vc<br/>file, and castle.map does not have Sully() in it's vcfile, FunctionExists("Sully") will return 1 if island.map is loaded, and 0 if castle.map (or any other map that doesn't have a<br/>Sully()) is loaded.
All compares are case insenitive.


This function is extremely useful for errorchecking purposes when you're using CallFunction() in conjunction with<br/>datafile-defined strings, or any other time you're using CallFunction() and explicitly demand that a function exist.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//copy this all into a blank system.vc and run verge
//if you don't understand what's going on.

void Sully()
{
	exit( "I am a clam.  I have no beard.  Isn't that weird?"<br/>);
}

void Autoexec()
{
	if( FunctionExists("Sully") )
	{
		CallFunction( "Sully" );
	}
	else
	{
		exit( "Sully() does not Exist!" );
	}
}</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetInt</b></big> (<i>string intname</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the value of an integer.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the value of an integer variable. Does not work on integers inside structs currently.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int num;
string my_var="num"; //'my_var' now points to 'num'.
GetInt(my_var); //Gets the value of 'num'.</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetIntArray</b></big> (<i>string intname, int index</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the value of an index of an int array</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the value of an index inside an integer array variable. Does not work on integer arrays inside structs currently.

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int num[12];
string my_var="num"; //'my_var' now points to 'num'.
int my_index=7; //'my_index' is set to 7.
GetIntArray(my_var,my_index); //Gets the value of 'num[7]'.</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>GetString</b></big> (<i>string strname</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the value of a string.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the value of an string variable. Does not work on strings inside structs currently.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>string name;
string my_var="name"; //'my_var' now points to 'name'.
GetString(my_var); //Gets the value of 'name'.</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>GetStringArray</b></big> (<i>string strname, int index</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the value of an index of a string array</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the value of an index inside an string array variable. Does not work on string arrays inside structs currently.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>string name[98];
string my_var="name"; //'my_var' now points to 'name'.
int my_index=21; //'my_index' is set to 21.
GetStringArray(my_var); //Gets the value of 'name[21]'.</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>HookButton</b></big> (<i>int button, string function</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Calls the specified function on every discrete press of the specified button</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Each time the key, set by the standard button numbers, is pressed the function is called. Note this is once and only per button press, it is not called repeatedly if the button is<br/>held. It needs to be released then pressed again to trigger another function call. As with all hook functions, it requires the string of a function name that requires no passed<br/>values, and any return value is ignored. To remove the hook, call pass "" as the function name. The button numbers to pass are:
1 - Enter or b1
2 - Alt or b2
3 - Esc or b3
4 -<br/>Space or b4
5 - Up *CURRENTLY NOT WORKING*
6 - Down *CURRENTLY NOT WORKING*
7 - Left *CURRENTLY NOT WORKING*
8 - Right *CURRENTLY NOT WORKING*</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>// Put this in system.vc and it will actually compile and run...
void autoexec()
{
	// Hooks the up key to the function
	HookButton(1, "ButtonDown_Enter");
	while (!b3) {<br/>UpdateControls(); }
	exit("And you said you would change...");
}

void ButtonDown_Enter() // If up arrow is pressed
{
	// Display a little message box
	MessageBox("One enter<br/>button pressed");
}</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>HookKey</b></big> (<i>int key, string function</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Calls the specified function on every discrete press of the specified key</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Each time the key, set by a scan code is pressed the function is called. Note this is once and only per key press, it is not called repeatedly if the key is held. It needs to be<br/>released then pressed again to trigger another function call. As with all hook functions, it requires the string of a function name that requires no passed values, and any return<br/>value is ignored. To remove the hook, call pass "" as the function name. Where you can, use HookButton() instead, as this also supports gamepad input.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>// Put this in system.vc and it will actually compile and run...
void autoexec()
{
	// Hooks the up key to the function
	HookKey(SCAN_UP, "KeyDown_Up");
	// Stay in the<br/>program loop until escape is pressed
	while (!b3) { UpdateControls(); }
	exit("Well, if you will take another lover...");
}

void KeyDown_Up() // If up arrow is<br/>pressed
{
	// Display a little message box
	MessageBox("One up key pressed");
}</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>HookRetrace</b></big> (<i>string func</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Calls the specified function everytime an R is hit in the renderstring.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Calls the specified function everytime an R is hit in the renderstring.  For example, if your renderstring is "1E2R", every time the 'R' is rendered, the function you specified in<br/>this hook will be called.
HookRetrace's frequency of calling varies from system to system and game to game.  If person a is getting 40 frames per second, the hooked function will<br/>be called 40 times a second for them.  If another person gets 80 frames per second, that person's hooked function will be called 80 times a second.  It is this behavior that makes<br/>HookRetrace ideal for anything that depends specifically on the framerate.  Anyone needing a more consistant timer should look into HookTimer.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>/**
 * Assume that this function exists somewhere in the system code.
 */

void tint_screen()
{
    ColorFilter( CF_GREY, screen );
}

/**
 * Assume this line is in your<br/>map's startup function.
 */

HookRetrace( "tint_screen" );

/**
 * Now, when the map with the preceding line is run, what happens depends on
 * It's renderstring.
 *
 *<br/>Since the function is only called when an 'R' is hit in the string, if your string
 * was "1E2R", everything would be grayscale since it was applied after
 * everything else<br/>was rendered.
 *
 * However, if the renderstring was "12RE" the map would be grayscale, and the
 * entities on the map would be in color.  (This is how Paladin's Quest did<br/>their
 * flashbacks, for an obscure reference.)
 *
 * If your Rstring was "1ER2", then layer 1 and the entities would be gray, and
 * tile layer 2 would be in it's original<br/>colors.  See how it works?
 *
 * Finally, if the Rstring had no 'R' in it at all, like "1E2", then the function specified
 * in HookRetrace would never be called!
 */
</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>HookTimer</b></big> (<i>string funcname</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Calls the specified function once every timer tick.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>The specified function will be called every timer tick, 100 times per second.

As with other Hook* functions, the function name is passed as a string and the given function must<br/>be void and take no arguements.

If the string passed does not resolve as a known function at run-time, no hooking will occur.

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>HookTimer("MyTimer");

void MyTimer()
{
   mytimer++;
}</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>Log</b></big> (<i>string logtext</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Write a line of text to your logfile.  Essential for debugging.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Log() simply writes logtext to the verge.log file. This is an exceedingly useful tool for debugging your VC code.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>Log("Initializing new game...");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>MessageBox</b></big> (<i>string text</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Pops up a windows Messagebox.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Pops up a windows messagebox, as with Exit, but without exiting the engine. Primarily intended for debugging use, when you want a notification more immediate than with Log().
Note<br/>that vc-execution pauses while the system waits for the user to press the 'ok' button on the MessageBox that pops up.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>MessageBox("Notification: Grue likes anuses");

MessageBox("Notification: vecna can't sit down painlessly right now...");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>Random</b></big> (<i>int min, int max</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns a random integer between min and max.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns a random integer between min and max.
You can seed this random number generator by using SetRandSeed()
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int rand = Random(0,10);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetAppName</b></big> (<i>string name</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Set the window&#039;s application name for your program.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Sets the application name shown in the taskbar and the verge3 application window.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>SetAppName("verge3 ultra edition by VECNAR");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetButtonJB</b></big> (<i>int button, int jb</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets an internal VERGE button to a joystick button.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function will set the default VERGE buttons (b1,b2,b3,b4) to the specified joystick button. Useful for custom button mapping dialogues.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>SetButtonJB(1,5); //Sets internal VERGE button b1 to read from joystick button 5.</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetButtonKey</b></big> (<i>int button, int key</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Binds an internal VERGE button to a key</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>The values used for the button variable are the same integers that are passed to the unpress() function. The values for the key variable are from the SCAN defines.<br/>

i.e.
SetButtonKey(1, SCAN_Z);
//Would set button 1, which defaulted to [enter] to the 'Z' key on the keyboard

SetButtonKey(2, SCAN_O);
//Would set button 2, which use to<br/>be [alt] to the 'O' key on the keyboard.

All of the button values are defined Here (-Ness)
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>// Sets button 1 (which was enter) to Z on the keyboard
SetButtonKey(1, SCAN_Z);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetInt</b></big> (<i>string intname, int value</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets the value of an integer.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Sets the value of an integer variable. Does not work on integers inside structs currently.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int num;
string my_var="num"; //'my_var' now points to 'num'.
SetInt(my_var,176); //Sets the value of 'num' to 176.</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetIntArray</b></big> (<i>string intname, int index, int value</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets the value of an index of an int array.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Sets the value of an index inside an integer array variable. Does not work on integer arrays inside structs currently.

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int num[12];
string my_var="num"; //'my_var' now points to 'num'.
int my_index=7; //'my_index' is set to 7.
SetIntArray(my_var,my_index,1337); //Sets the value of 'num[7]' to<br/>1337.</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetRandSeed</b></big> (<i>int seed</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Initializes the random number generator</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
This function may be used to initialize the random number generator with the seed of your choice.  If you are careful, you may be able to rig your game to behave the same every<br/>time if you initialize it with the same random seed every time.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>SetRandSeed(109);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetResolution</b></big> (<i>int xres, int yres</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets the screen&#039;s resolution.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Sets the screen resolution to the (xres, yres). This will always succeed in windowed mode, but it may fail in fullscreen mode.

Come to think of it, I should probably make it<br/>return a value based on whether or not it suceeds. If you see this, remind me! :D

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>SetResolution(640, 480);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetString</b></big> (<i>string strname, string value</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets the value of a string.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Sets the value of an string variable. Does not work on strings inside structs currently.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>string name;
string my_var="name"; //'my_var' now points to 'name'.
SetString(my_var,"Bob"); //Sets the value of 'name' to "Bob".</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetStringArray</b></big> (<i>string strname, int index, string value</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets the value of an index of a string array</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Sets the value of an index inside an string array variable. Does not work on string arrays inside structs currently.

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>string name[98];
string my_var="name"; //'my_var' now points to 'name'.
int my_index=21; //'my_index' is set to 21.
SetStringArray(my_var,"Ralph"); //Sets the value of<br/>'name[21]' to "Ralph".</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>Unpress</b></big> (<i>int button</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Causes a button to show as released until it is pressed again</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
This important function is used when you have handled a button press event and are ready for the engine to not show it as being pressed any more.  After calling unpress() for<br/>that button, the button will be read as being released.  It will not read as being pressed until the user presses the button again.

This is most commonly used for buttons that<br/>operate as events, rather than states.  For example, normally the [left] button will make a character be walking as long as it is pressed down.  But if [left] is being used to<br/>control a menu cursor, you do not want to move the cursor left for as long as it is pressed (otherwise you will whiz across the menu in a split second).  You may want to require<br/>each movement in the menu to be a separate press of the [left] button.  In this case, you would use unpress() after you did each movement.

I have made this sound more<br/>complicated than it is.  Just look at the example.

This table shows the values to be given to unpress for each of verge's logical buttons.  If you want to unpress left, you<br/>would use unpress(7).

0b1,b2,b3,b4
1b1
2b2
3b3
4b4
5up
6down
7left
8right
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>if(b1) { confirm(); unpress(1); }</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>UpdateControls</b></big> (<i></i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Updates all keyboard, joystick, and verge system input variables.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Updates all keyboard and joystick input variables, including the key[] array, as well as the "Quick Keys", such as b1, b2..etc.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>UpdateControls();
// deal with input</pre></td></tr></table><br/><br/><li><a id="20" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>String Functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'></div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>chr</b></big> (<i>int ascii</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns a string representation of the ascii code given.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns a string representation of the ascii code given.
The following are some useful instances for this function in verge:


chr(34) is the DOUBLEQUOTE (")
chr(10) is the<br/>NEWLINE (that thing you get when you hit enter)



for a full list of ascii codes, go to asciitable.com
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>string s;

s = chr( 35 ); // s is now equal to "#"</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>GetToken</b></big> (<i>string source, string delimiters, int index</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Retrieves a token from a string</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Given a source string and a set of delimiters, returns the token at the given index.  The set of delimiters is in the form of a string containing each of the delimiter characters<br/>concatenated.  For example, if you want to use space, hyphen, and semicolon as delimeter characters, you would use "; -".
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>GetToken("a-b-c","-",1); //returns token index 1
//        0 1 2</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>left</b></big> (<i>string s, int ofs</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Crops off beginning of a string</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Takes the given string and crops 'ofs' number of characters from the leftside of the string going right.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>woot="All work and no play make jack a dull boy";
woot=left(woot,10);

woot == "All work a";</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>len</b></big> (<i>string s</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the length of a string.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the length of a string.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int i;

i = len( "I LIKE TACOS." ); //i is now equal to 13.</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>mid</b></big> (<i>string s, int ofs, int len</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Crops out a section of a string</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Takes string 'str' and crops out characters from ofs to ofs+len or in other words crops from ofs for len characters.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>string woot="All work and no play makes jack a dull boy";
woot=mid(woot,10,15);

woot == "nd no play make";</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>right</b></big> (<i>string s, int ofs</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>crops off end of a string</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>takes string 's' and crops out around ofs characters starting from the right going left.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>string woot="All work and no play makes jack a dull boy.";
woot=right(woot, 10);

woot == " dull boy."</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>str</b></big> (<i>int val</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Changes an int into it&#039;s string representation.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Changes an int into it's string representation.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>string s;

s = str( 42 );
//s is now equal to the string "42".  </pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>strcmp</b></big> (<i>string s1, string s2</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Compare two strings, checking for equality.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Strcmp compares two strings and returns 0 if they're equal, 1 if they're inequal. This comparison is case-sensitive.
This may seem backwards for some as it returns a false value<br/>if the strings are equal.  However, it's put in place this way so that it's forwards compatible with any 'string distance' functionality that may be added in the future.
Always<br/>remember to put a ! in front of strcmp in if-statements if you're checking to see if two strings are equal.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>if( !strcmp("bob","fred") )
{
    log( "This should never execute." );
}
else
{
    log( "Bob is not Fred.  Good show!" );
}</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>strdup</b></big> (<i>string s1, int times</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Duplicates string over a number of times</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Strdup returns a string composed of the string 's1' repeated times 'times'. </tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>strdup("blah",1) returns blah.
strdup("blah",3) returns blahblahblah.
strdup("blah",0) returns an empty string.</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>TokenCount</b></big> (<i>string source, string delimiters</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Counts the number of tokens in a string</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Given a string and a set of delimiters (see GetToken()), counts the number of tokens that can be retrieved from it.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//returns the last name
int count = TokenCount("john jacob jingleheimer smith" ," " );
string lastname = GetToken("john jacob jingleheimer smith" ," ", count-1);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>ToLower</b></big> (<i>string source</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Takes string and formats all the letters into lowercase form</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Takes string and formats all the letters into lowercase form</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>string blah="Hi! my name is BOB!";
blah=toLower(blah);
blah == "hi! my name is bob!"</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>ToUpper</b></big> (<i>string source</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Takes string and formats all the letters into uppercase form</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Takes string and formats all the letters into uppercase form</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>string blah="hi! my NAME is BOB.";
blah=toUpper(blah);
blah == "HI! MY NAME IS BOB.";</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>val</b></big> (<i>string s</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Attempts to convert a string into it&#039;s numeric value.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>val attempts to convert a string representation of a number into its integer value.
val is very clever.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int i;

i = val( "25" ); // i is now equal to 25.
i = val( "77%" ); // i is now equal to 77.

i = val( "BOB" );
// i is now equal to 0,
// because it failed to change bob<br/>into a number.</pre></td></tr></table><br/><br/><li><a id="21" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Map Functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'></div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetObs</b></big> (<i>int x, int y</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Chekcs for obstructions at tile coords</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the index of the obstruction tile at the given coords.

Note: Coords in terms of tiles, not pixels.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>I'm not really sure how else to give an example so...

picture this as a map with the obstructions being an X:

     1   2  3

1   |O|O|O|
2   |O|O|O|
3  <br/>|O|X|X|

getObs(0,0)==0;
getObs(3,3)==1;
getObs(2,3)==1;
getObs(2,1)==0;</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetObsPixel</b></big> (<i>int x, int y</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Check for obstruction pixels on the map</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>returns 0 if there is no obstruction at the map pixel.

Note: Map pixel grid, not screen pixel grid.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>none</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetTile</b></big> (<i>int x, int y, int layer</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Find specific VSP index of tile</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the vsp index of the tile at coords x,y on the given layer. Note: xy is in terms of tiles.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>none</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetZone</b></big> (<i>int x, int y</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Find index of zone at tile coords</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Find index of zone at tile coords x,y.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>none</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>Map</b></big> (<i>string mapname</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Loads the specified map.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function loads a map.  If you are using maps in your game, which is not strictly neccesary, this function is essential.
VERGE 3 format .MAP files are currently only created<br/>by MapEd 3.
 Upon execution of this function, all code execution halts completely, never to be returned, and starts anew in the map's own vc's starting function.  For a more<br/>in-depth discussion of the correlation between system-vc and map-vc, please view [this section].
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//Example 1
/////////////////////////////////////////////

// this loads the map named "test.map"
// located in the base verge directory.

map( "test.map" );<br/>



//Example 2
/////////////////////////////////////////////

// This demonstrate's map()'s ability to
// stop all  functionality under it.

void grue_is_awesome()<br/>{
	map( "test.map" );
	exit( "GRUE SUXS!!!!" );
}

void autoexec() {
	grue_is_awesome();
}

// When this program is executed,
// as long as ./test.map exists, you will<br/>
// load that map fine, and the program will
// never exit with the "GRUE SUXS!!!!"
// message.  This is because map() halts the
// function it was called in, and starts off<br/>anew in
// the map-vc.

</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>Render</b></big> (<i></i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Blits the map and entities to &quot;screen&quot;</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Blits the map and entities to the variable screen.
Note: This also will run what ever function you have HookRetrace()'d.  Which makes this a very bad function to ever call in a<br/>HookRetraced function (since it would cause an infinite loop and crash the game.)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>render();
showpage();</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>RenderMap</b></big> (<i>int x, int y, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Renders the map to the target image</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function allows you to render the map and its entities to an image other than the screen. The x and y are the screen offset in pixels, often making xwin and ywin desirable<br/>arguments. If used in conjunction with curmap.rstring, you could do some interesting things.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//Make only Entities be rendered, and then...
curmap.rstring="E";
//...take a snapshot of the map...
RenderMap(xwin,ywin,img);
//...and copy it to the<br/>clipboard.
CopyImageToClipboard(img);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetObs</b></big> (<i>int x, int y, int z</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Place an obstruction on the map</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Places an obstruction on the map in terms of tiles. Z represents the obstruction set index.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>none</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetTile</b></big> (<i>int x, int y, int layer, int tile</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Place a tile on the map</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Place tile index 'tile' on map layer, at tile coords x,y</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>none</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetZone</b></big> (<i>int x, int y, int z</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Place a zone on the map</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Changes the zone at tile-coordinates (x,y) to value z.
Note: zone z must exist on the map, or else SetZone will just set the zone at tile-coordinates (x,y) to 0.  This is so v3<br/>doesn't crash, which is, overall, a good thing.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>SetZone( 5,13, 53 ); //the zone at tile (5,13) is now 53.</pre></td></tr></table><br/><br/><li><a id="22" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Entity Functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>For the corresponding Entity variables go <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=35">here</a></p></div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>ChangeCHR</b></big> (<i>int entity, string chr</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Replaces an entity&#039;s imagefile on the map with a different one</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Replaces entity 'entity' imagefile on the map with string 'chr's image file. This will also effect the hotspots, animation, etc.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int currentplayer=entitySpawn(10,10,"Me.chr");
changeChr(currentPlayer, "Him.chr");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>EntityMove</b></big> (<i>int entity, string script</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets the movecode of an entity - so moving them around on the map</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>With this function you can set actions for the entity (specified by int reference) to follow using a 'movecode' string. In verge a movecode is a string of instructions for an<br/>entity to follow, one after the other, like a 'script'. Each command is a letter, sometimes followed by a number, here are a list of what each does:
ulrd (followed by number) Move<br/>the entity either up, down, left or right by set number of tiles.
xy (followed by number) Move an entity so a set x or y tile position
pt Changes movement to either pixel<br/>accurate, p, or tile accurate, t *CURRENTLY BROKEN*
z (followed by number) Set the current frame of the entity, like setting entity.specframe
w (followed by number) The entity<br/>pauses for set number of timer ticks (default 100 = 1 second)
f (followed by number) Sets the entity's facing: use directional 0 moves instead, then you don't need to remember<br/>which number is which direction
b Loops the entire movecode, eternally

They can be either upper or lower case (which ever you think looks nicer) and don't need a space or<br/>anything between commands. Verge processes entity movecodes every call to Render() (???and ShowPage()???) so, if you need the game to 'pause' for a textbox or something, make sure<br/>you use SetEntitiesPaused() so the entities don't suddenly 'jump' to their next positions.
There are a few things to remember when moving entities around, firstly the entity needs<br/>to have their specframe set to 0 to enable the walk animation, rather than just sliding around. So if you change the frame, remember to set it back with z0 before moving. Also,<br/>any movement is ignorant of obstructions and other entities, so make sure to test what you use to make sure it works as expected.
Note, unlike PlayerMove(), verge does not wait<br/>for this to finish before running the next line of code. So you can set several entities moving all at the same time. However, it is likely you will sometimes want to wait untill a<br/>particular entity has finished moving, so I recommend having a WaitForEntity() function.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>// Examples adapted from Parallel Seven

// Moves the first party member to the x position 77,
// then to the y position 42, then faces upwards
EntityMove(party[0].ent,<br/>"x77y42u0");

// Animate drunk picking up broken bottle
EntityMove(2, "z24w80z25w100");
// Waits till the entity is done with the movecode before<br/>continuing
WaitForEntity(2);

void IdleAnimPlayer(int pparty)
// Sets a party member into the idle animation
{
	EntityMove(party[pparty].ent, "z4w100z2w100b");
}
// Note:<br/>The 'b' at the end repeats this movecode

// Sets the party member to animated movement frame
EnityMove(party[pparty].ent, z0)</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>EntitySetWanderDelay</b></big> (<i>int entity, int delay</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Change the wander delay time.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function changes the specified entity's wander delay to a new value.
The wander delay is how long the entity will wait before wandering around again.
The value specified is<br/>in 1/100ths of a second.

This function is a part of a small family of Wander-mode effecting Entity functions, which includes:
	EntitySetWanderDelay,
	EntitySetWanderRect,<br/>
	EntitySetWanderZone, and
	EntityStop.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//This sets entity 3 on the map to take a wander-step twice
//   a second (which is kinda fast)
EntitySetWanderDelay( 3, 50 );

//This sets entity 42 on the map to take a<br/>wander-step once
//   every 6 seconds (which is kinda slow)
EntitySetWanderDelay( 42, 600 );</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>EntitySetWanderRect</b></big> (<i>int entity, int x1, int y1, int x2, int y2</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets an entity&#039;s wandermode to Rect.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function changes the specified entity's wander mode to Rect.
The entity will wander within the bounds of the map coordinates specified.  x1,y1 represents the tile coordinates<br/>of the top-left corner of the wander rectangle area, and x2,y2 represents the bottom-right corner.
If the entity is outside the rectangle but adjacent to it he could move inside<br/>it.  However, if the entity is completely not anywhere near the rectangle, it will not be able to wander.
If anyone would like to report what happens if you use x1,y2 for any<br/>other corner and x2,y2 for the opposite, please inform us.  I'm too tired to check. -Grue

This function is a part of a small family of Wander-mode effecting Entity functions,<br/>which includes:
	EntitySetWanderDelay,
	EntitySetWanderRect,
	EntitySetWanderZone, and
	EntityStop.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>// This sets map entity index 1 to wander within an area between
//  tile (0,0) and tile (10,10)

EntitySetWanderRect( 1,  0,0, 10,10 );</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>EntitySetWanderZone</b></big> (<i>int entity</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets an entity to wander about in Zone 0.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function changes the specified entity's wander mode to Zone.
This function tells an entity to wander around within the confines of the zone it is currently standing in. <br/>Other zones will act like obstructions to it.
For the curious, no zone data is stored concerning this functionality; The entity just compares it's current zone to the zones of<br/>where it can move when it's thinking about moving.

This function is a part of a small family of Wander-mode effecting Entity functions, which includes:
	EntitySetWanderDelay,<br/>
	EntitySetWanderRect,
	EntitySetWanderZone, and
	EntityStop.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//let's pretend we're talking to Sor, Norse god of muscle fatigue!

void Talk_Sor()
{
	//stop the entity so we can talk to him...
	EntityStop( event.entity );

	// Do the<br/>talking!
	//
	// TextBox( SOR_PRT, "Yeah yeah, well, I'm twice as Thor as he'll ever be.  Can I get a massage here now?" );

	//now that we're done talking, set the entity to<br/>wander-zone mode so he can wander around again.
	EntitySetWanderZone( event.entity );
}</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>EntitySpawn</b></big> (<i>int x, int y, string chr</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>spawn an entity onto the map</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Spawn entity at tile x,y on currently loaded map using .chr file. EntitySpawn will return the index of the entity for interface with entity variables.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int currentplayer = EntitySpawn(10, 10, "Hero.chr");
SetPlayer(currentplayer);
entity.speed[currentplayer]=100;</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>EntityStalk</b></big> (<i>int stalker, int stalkee</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Makes one entity follow another</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>// Make companion follow the player
EntityStalk(companion, player_ent);

// Stop following
EntityStalk(companion, 0-1);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>EntityStop</b></big> (<i>int entity</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Clears an entities movecode</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Clears the movecode of an entity, set by PlayerMove() or  EntityMove() - stopping whatever action the entity is currently taking.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>EntityMove(1, "u3"); // Move entity '1' up 3 tiles
Wait(100); // A function that waits for 1 second
EntityStop(1); // Stop entity 1 early</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>HookEntityRender</b></big> (<i>int entity, string func</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Every time the specified entity would be rendered, calls the specified function instead</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This 'hooks' a function to be called each time a set entity is rendered, instead of blitting the entity automatically. This would generally be during a Render() call when the<br/>entity is in the viewable area.

As with all hook functions, it requires the string of a function name that requires no passed values, and any return value is ignored. If no<br/>function matching the name is found, the hook does nothing. The entity value needed is the int value of their index. This is either set on the map, or returned by<br/>EntitySpawn().

Also when within the hooked function, event.entity refers to the currently rendered entity.

Remember to manually blit the current entity frame if you want to<br/>display the entity as normal - this hook OVERRIDES the normal entity render, rather than coming before or after. Be careful about blitting to to correct x,y coords on the screen.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int e;
// Hook all current map entities to PaperDollRender()
for(e = 0; e </pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>PlayerMove</b></big> (<i>string script</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets a movecode for the player - taking control from the user</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>With this function you ignore what ever input the user gives, and set actions for the player to follow using a 'movecode' string. In verge a movecode is a string of instructions<br/>for an entity to follow, one after the other, like a 'script'. Each command is a letter, sometimes followed by a number, here are a list of what each does:

ulrd (followed by<br/>number) Move the player either up, down, left or right by set number of tiles.
xy (followed by number) Move an player so a set x or y tile position
pt Changes movement to either<br/>pixel accurate, p, or tile accurate, t *CURRENTLY BROKEN*
z (followed by number) Set the current frame of the player, like setting entity.specframe
w (followed by number) The<br/>player pauses for set number of timer ticks (default 100 = 1 second)
f (followed by number) Sets the entity's facing: use directional 0 moves instead, then you don't need to<br/>remember which number is which direction
b Loops the player movecode, eternally  DO NOT DO THIS

They can be either upper or lower case (which ever you think looks nicer) and<br/>don't need a space or anything between commands. Verge processes entity movecodes every call to Render() (???and ShowPage()???) so, if you need the game to 'pause' for a textbox or<br/>something, make sure you use SetEntitiesPaused() so the entities don't suddenly 'jump' to their next positions.

There are a few things to remember when moving the player around,<br/>firstly the player needs to have their specframe set to 0 to enable the walk animation, rather than just sliding around. So if you change the frame, remember to set it back with<br/>z0 before moving. Also, as the program would go into an eternal loop if the player got 'stuck' any movement will go straight through of obstructions and other entities, so make<br/>sure to test what you use to make sure it works as expected.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>// Examples adapted from Parallel Seven

// Player waits briefly then changes to 'glance right' frame
PlayerMove("w40z21");

// Player looks<br/>around
PlayerMove("d0w40r0w40");
// Parallel Seven specific textbox
TBox(party[0].port, 1, 1, party[0].name, "Where the hell is there a weapon when you need one?");
// Player<br/>moves to x,y position then looks right and pauses
PlayerMove("y61x77r0w40");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetEntitiesPaused</b></big> (<i>int pausestate</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Halts all entity movement</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function stops entity movement codes from being processed until they are unpaused.

pausestate is either 1 (on) or 0 (off).

You would use this in situations where the<br/>screen stops updating. For instance, a textbox that halts the game until the player closes.

Not using this function would result in the entities moving around while the screen<br/>isn't being updated. Once the textbox closes the things are being drawn again, the enties will all appear to warp to their new locations.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>SetEntitiesPaused(1);
TextBox("Nobody's moving behind ME, that's for sure");
SetEntitiesPaused(0);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetPlayer</b></big> (<i>int entity</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Set up controls and camera for entity</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>SetPlayer(int ent) links the direction keys, enter, and the camera to the entity specified.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int currentPlayer=EntitySpawn(0,0,"nathan.chr");'
setPlayer(currentPlayer);</pre></td></tr></table><br/><br/><li><a id="26" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Graphics Functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'></div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>AdditiveBlit</b></big> (<i>int x, int y, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Additive Blits an image onto another image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Special version of Blit, this function Additively blits the sourceimage over the destimage, creating some nice effects.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int image;
image = LoadImage("mypic.pcx");

AdditiveBlit(0, 0, image, screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>AlphaBlit</b></big> (<i>int x, int y, int srcimg, int alphaimg, int dest</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Blit an image with an alpha mask</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Before I go into this function let me explain what a mask is.

A mask is a grayscale(black and white essentially) image that is applied to another image to tell the computer how<br/>much transparency is allowed in different places. By using a mask you can blit anti-aliased images and whatever else for higher image quality. If used properly you can elimate the<br/>hardedges you get so often with tBlit.

AlphaBlit blits image 'srcimg' to image 'dest' at screen x,y with the alphamask 'alphaimg'.

Note: srcimg and alphaimg have to be the<br/>same size in pixels.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int portrait=loadimage("Hero.png");
int portrait_mask=loadimage("Hero_mask.png");

aplhaBlit(0,0,portrait,portrait_mask,screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>Blit</b></big> (<i>int x, int y, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Draws an image onto another image, ignoring transparancy.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function blits the image 'sourceimage' on to 'destimage' at the coordinates x and y.  Screen is the builtin image object representing the physical screen.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int image;
image = LoadImage("mypic.pcx");

Blit(100, 100, image, screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>BlitEntityFrame</b></big> (<i>int x, int y, int e, int f, int dest</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Blits a specified entity frame to the screen</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Blits the frame number 'f' of entity 'e' to the 'dest' image at coords 'x','y'. It will not draw transparent pixels, and abides SetLucent values.

If you add this to a<br/>HookEntityRender(), you can get the current entity being referenced using event.entity.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>void PaperDollRender()  //add to a HookEntityRender
{
   //Blit current frame of the entity being referenced
   BlitEntityFrame(x, y, event.entity, frame_index, screen);
  <br/>//Blit Paper Doll Stuff
}</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>BlitLucent</b></big> (<i>int x, int y, int lucent, int source, int dest</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Simple blit with constant translucency override</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>BlitLucent is a standard blit, with the exception that it will use the provided alpha value for constant translucency.  This is exactly equivalent to the following snippet of<br/>code:


SetLucent(newLucent);
Blit(x,y,source,dest);
SetLucent(oldLucent);
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>BlitLucent(-5,-5,20,oldScreen,screen); //motion blur effect</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>BlitTile</b></big> (<i>int x, int y, int tile, int dest</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Blit a tile from the vsp to the screen</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Blits tile index 'tile' to image 'dest' at (x,y).  (x,y) are relative to the destination image.

note:
blitTile is different from setTile in that setTile positions a tile into<br/>the map it self on a tile grid while blitTile blits the tile to an image on a pixel grid.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>BlitTile(50,50,1,screen); //blits tile 1 to screen at (50,50)</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>BlitWrap</b></big> (<i>int x, int y, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Draws an image in a repeating pattern onto another image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This is a specialty-use blitter. This will blit an image to the destination image, but instead of clipping, it will wrap around the edges. in other words. if you blit a 50x50 image<br/>25 pixels from the bottom/right corner, then 25 pixels will also appear at the top/left corner.

There is no TBlitWrap, BlitWrap will not draw transparent pixels. BlitWrap does<br/>not at this time abide either the clipping region (it wraps at the image height/width) or values of SetLucent().</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>BlitWrap(270, 150, myimage, screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>Circle</b></big> (<i>int x, int y, int rx, int ry, int color, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Generate a ellipse/circle outline</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Generates an elipse at x,y with horizontal radius 'rx' and vertical radius 'ry' of the given color to image 'dest'</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>none</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>CircleFill</b></big> (<i>int x, int y, int rx, int ry, int color, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Generate a filled circle/ellipse</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>draw a filled circle at x,y with horizontal radius 'rx' and verticle radius 'ry' with given color to image 'dest'</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>none</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>ColorFilter</b></big> (<i>COLOR_FILTER filter, int image</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Applies the specified color filter to an image to tint it.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Applies the specified filter to the given image. The following filters are valid:


CF_NONE does absolutely nothing!
CF_GREY converts the image to greyscale
CF_GREYINV<br/>converts the image to inverted greyscale.
CF_INV converts to full-color RGB inversion. For instance, the inverse of green would be purple: RGB(0,255,0) -> RGB(255,0,255).
CF_RED<br/>gets an average luminosity and then applies that to the red channel only.
CF_GREEN gets an average luminosity and then applies that to the green channel only.
CF_BLUE gets an<br/>average luminosity and then applies that to the blue channel only.


Note: All of these filters are built-in defines for ints.  See their section for more detail.

Two notes<br/>about this function. It will abide by the clipping region, but you will not gain the full speed benefit of a clip region. This may be optimized in the future. It will abide by<br/>Lucency values: you can acheive some cool effects this way. For instance a lucent percentage of a CF_GREY filter will provide a washed-out, color-faded look.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>ColorFilter(CF_GREY, screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>CopyImageToClipboard</b></big> (<i>int image</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Copy an image pointer from VERGE into the clipboard.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Copies an image pointer from VERGE into the Windows clipboard.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//if CTRL+C is pressed, copy the image to the clipboard
if(key[SCAN_CTRL] && key[SCAN_C])
{
 CopyImageToClipboard(img);
}</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>DuplicateImage</b></big> (<i>int image</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Makes an exact, but seperate, copy of an image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Duplicates the passed image object and returns a new handle for storage in a different location.

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int image_a, image_b;

image_a = LoadImage("image.pcx"); // load an image
image_b = DuplicateImage(image_a); // put the image inside image_b as well.
// now both image_a and<br/>image_b have the image from image.pcx

RectFill( 0, 0, ImageWidth(image_b)/2, ImageHeight(image_b)/2, 0, image_b);
//now image_b has a black rectangle in it's upper-left<br/>quadrant, whereas image_a does not.</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>FreeImage</b></big> (<i>int image</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Frees the memory occupied by the image reference passed.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Frees the memory occupied by 'image', and sets the image pointer to 0.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int myimage;
myimage = NewImage(320, 240); //this loads the image into memory

//
// let's pretend we actually used the image hereabouts...
//

FreeImage(myimage); //this<br/>frees the image from memory.

//'myimage' cannot be used after this point without creating/loading a new image into it
</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetB</b></big> (<i>int color</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the value of the blue channel of a COLOR.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt> Grabs the blue channel from 'color', and returns it's value.
 COLORs are special integers created by the RGB() function.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int color, blue;
color = RGB(200, 100, 50);
blue = GetB(color); // blue will equal 50</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetG</b></big> (<i>int color</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the value of the green channel of a COLOR.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt> Grabs the green channel from 'color', and returns it's value.
 COLORs are special integers created by the RGB() function.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int color, green;
color = RGB(200,100,50);

green = GetG(color);  // green will equal 100</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetImageFromClipboard</b></big> (<i></i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Retrieve an image pointer from the clipboard.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns an image pointer from the clipboard.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//If CTRL+V is pressed, "paste" an image.
if(key[SCAN_CTRL] && key[SCAN_V])
{
  img=GetImageFromClipboard();
}</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetPixel</b></big> (<i>int x, int y, int sourceimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the COLOR from a specific pixel in the specified image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Grabs the pixel at (x,y) from 'sourceimage', and returns it's color value.
This color value is the same type created by RGB() and used by GetR(), GetG(), and GetB().
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int color;

color = GetPixel(10, 10, screen); // get what color is at x:10 y:10 on the screen object</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetR</b></big> (<i>int color</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Grabs the red channel from &#039;color&#039;, and returns it&#039;s value.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt> Grabs the red channel from 'color', and returns it's value.
 COLORs are special integers created by the RGB() function.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int red, color;

color = RGB(125, 50, 250);

red = GetR(color); // red will equal 125</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>GrabRegion</b></big> (<i>int sx1, int sy1, int sx2, int sy2, int dx, int dy, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Extracts a sub-rectangle from a given image</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>GrabRegion receives the rectangle that it should extract from the source image in (sx1,sy1)->(sx2,sy2).  This rectangle is placed into the destination image at (dx,dy).

This<br/>function is very useful for manually slicing up an image that contains a strip of frames for an animation and extracting a single frame from it.  The example will demonstrate this</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int edgar = loadimage("edgar.pcx");
int leftFrame = NewImage(16,24);

//the order of things is down/up/left/right in the world of verge
//that means we need the third<br/>frame
GrabRegion(16*2,0,16*2 +15,23,0,0,edgar,leftFrame);
</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>ImageHeight</b></big> (<i>int image</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the height of an image object.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the height of an image object.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int image, height;
image = LoadImage("image.pcx");

height = ImageHeight(image);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>ImageShell</b></big> (<i>int xofs, int yofs, int width, int height, int image</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Creates a duplicate image handle referencing a rectangle in the original image</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
This extremely powerful function will allow you to take an image, define a rectangle within it, and get an image handle referencing that rectangle within the original image. <br/>xofs, yofs, width, height indicate the position and dimensions of the rectangle within the source image.  Clipping rectangles for the two images are completely independent. <br/>

*Rendering into one will render into the other.*  If that is what you want to do, then this is the function you want to use.

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int window = ImageShell(110,60,100,100,screen);
// rendering into window will now be the same as rendering into a 100x100
// window in the middle of the screen!</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>ImageWidth</b></big> (<i>int image</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the width of an image object.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the width of an image object.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int image, width;
image = LoadImage("image.pcx");

width = ImageWidth(image);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>Line</b></big> (<i>int x1, int y1, int x2, int y2, int color, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Draws a colored line onto an image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Primitive drawing function, Line, draws a line from x1,y1 to x2,y2 on 'destimage' in color 'color'.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>Line(0, 0, 100, 100, RGB(255,255,255), screen);  // draws a line from 0,0 to 100,100 on the screen object</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>LoadImage</b></big> (<i>string filename</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Reads an image file into memory, and returns an IMAGE handle.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Reads in the specified image file as an image object, and returns a handle to the image object.  This handle is an int that represents the image to any functions in the Graphics<br/>API that want an image.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int myimage;
myimage = LoadImage("image.pcx");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>LoadImage0</b></big> (<i>string filename</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Loads a paletted image and makes palette index 0 transparent.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Typically images are loaded in and magenta is used as the transparent color.  LoadImage0 takes account for indexed color images, and treats color index 0 in the palette as the<br/>transparent color.  Transparent pixels are only transparent if you use the transparency blitting functions.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int myimage;
myimage = LoadImage0("image.gif");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>MixColor</b></big> (<i>int c1, int c2, int mix</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Mixes two colors in the given proportion</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Mixes c1 and c2 according to the proportion specified by mix.  A mix of zero would yield a color identical to c1.  A mix of 255 would yield a color identical to c2.  A mix of 128<br/>would yield a color smack dab inbetween c1 and c2.

     c1      c2
     |--------|
mix: 0      255

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//mixing white and red 50/50 will yield a fabulous shade of pink
pink = MixColor(RGB(255,0,0),RGB(255,255,255),128); </pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>Mosaic</b></big> (<i>int xgran, int ygran, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Applies a mosaic effect to an image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This will apply a mosaic effect, with a granularity size specified with xgran/ygran, to the destination image. It abides clipping rectangle, but the mosaic effect is absolute and<br/>ignores the value of SetLucent().

While this creates the same effect you remember from your super NES, it does it in a slightly different way.  The effect is better than the<br/>super NES's; it is also slower.  Super NES and GBA, I believe, select the pixel in the top-left corner of each tile of the mosaic to use as the color for that entire tile of the<br/>mosaic.  Verge's mosaic function will actually average every one of the pixels in the tile and use that as the color for the entire tile.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>Mosaic(4, 4, screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>NewImage</b></big> (<i>int width, int height</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Creates a new, blank image.  Useful for drawing to.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NewImage() creates an image object of the size specified by parameters width and height. The returned value is a handle to that image object which can be passed to any graphics<br/>function. The clipping region for the image defaults to the entire size of the image.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int myimage;
myimage = NewImage(320, 240);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>Rect</b></big> (<i>int x1, int y1, int x2, int y2, int color, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Draws a 1-pixel thick rectangle onto an image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Draws an unfilled rectangle from x1,y1 to x2,y2 on 'destimage', in color 'color'.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>Rect(0, 0, 200, 200, RGB(255,255,255), screen); // draw a box from 0,0, to 200,200, on the screen object (in white)</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>RectFill</b></big> (<i>int x1, int y1, int x2, int y2, int color, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Draws a solid colored rectangle onto an image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Draws a filled rectangle from x1,y1 to x2,y2 on 'destimage', in color 'color'
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>RectFill(0, 0, ImageWidth(screen)-1, ImageHeight(screen)-1, RGB(255,255,255), screen);
// fill the screen with a full white rectangle</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>RGB</b></big> (<i>int red, int green, int blue</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns a color in a format usable by other image functions.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns a color in the valid pixel format for V3's current video mode.  The passed paramaters represent the red, green and blue channels used to form a color.
The valid values for<br/>each parameter range from 0, which represents 0% of that color, to 255 which represents 100% of that color.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int white, red;

white = RGB(255, 255, 255);
red = RGB(255, 0, 0);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>RotScale</b></big> (<i>int x1, int y1, int angle, int scalefactor, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Rotate and/or scale an image and draws it to another image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This is a rotational scaler. The x and y coordinates specify the centerpoint of the image destination. The angle field is in degrees from 0 to 360. Any value for angle is valid, it<br/>will be wrapped around at 360.

The scale factor is a whole-image divisor, in a fixed-point of sorts: it ranges from 1 to infinity. 1000 is the centerpoint, equal to a scale<br/>factor of 1. A scale of 100 is 10 times bigger than normal. A scale of 10000 is 1/10th the size of normal. It abides clipping rectangles as well as SetLucent values.

RotScale<br/>will not draw transparent pixels (there is no TRotScale).

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int face = LoadImage( "happy_face.gif" );

RotScale(160, 120, systemtime, 1000, face, screen); </pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>ScaleBlit</b></big> (<i>int x, int y, int dw, int dh, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Draws an stretched image to another image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function draws sourceimage onto destimage, as a normal blit would; only the width and height of source image when it is blitted, is alterable. This allows for scaling both<br/>down and up.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int image;
image = LoadImage("image.pcx");

ScaleBlit(0, 0, ImageWidth(image) * 2, ImageHeight(image) * 2, image, screen);  // draw the image 200% scale</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetClip</b></big> (<i>int x1, int y1, int x2, int y2, int image</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets the current clipping rectangle on an image object.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Sets the current clipping rectangle on an image object.  All drawing to this image object, will only appear within the specified clipping coordinates. New images' clipping<br/>rectangle defaults to the entire image.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>SetClip(0, 0, 50, 50, image);
// restrict drawing on image object 'image' to the box
// between 0,0 and 50,50

Line( 0,0, 100,100, 0, image );
// attempts to draw a<br/>diagonal black line across the image...
// but haha! It's stopeed at 50,50 by the magical Clipping rectangle!
// ALL GLORY TO THE SETCLIP()!</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetCustomColorFilter</b></big> (<i>int c1, int c2</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Creates a custom color filter with colors in between c1 and c2.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Creates a custom color filter with colors in between c1 and c2. This filter can then be used by ColorFilter, using CF_CUSTOM as the filter argument.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//Make it a random color filter! Madness, I say!
SetCustomColorFilter(RGB(Random(0,255),Random(0,255),Random(0,255)),RGB(Random(0,255),Random(0,255),Random(0,255)));
//Now use<br/>the custom filter.
ColorFilter(CF_CUSTOM,screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetLucent</b></big> (<i>int percent</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets the Lucency value for all drawing functions.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Sets the current drawing lucency to the passed percent. 100% lucent means invisible, 0% is fully opaque.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>SetLucent(75);
// draw stuff
SetLucent(0); // back to normal</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetPixel</b></big> (<i>int x, int y, int color, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Changes the color of a single pixel in the specified image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Sets the pixel at (x,y) on destimage to 'color'.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>SetPixel(50, 50, RGB(255,255,255), screen); // draw a white pixel at x:50 y:50 on the screen</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>ShowPage</b></big> (<i></i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Updates the screen with all the changes you made to it.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Basicly, Copies the contents of the 'screen' image object to the physical screen.

...
ShowPage() also does a lot of secondary stuff in the background.

This includes<br/>processing all entities (replacing manually having to call ProcessEntities() ), and drawing the Verge3 'sprites'.

It also updates the controls (just in case you forgot<br/>UpdateControls() ) and it may also update the player if a player entity is set, but I'm not sure.

It's a pretty handy function to have in a Verge loop.

If you don't want to<br/>use all of ShowPage()'s features, then you have control over how they are executed. Look in V3 Docs -> Function Reference -> Entity Functions for SetEntitiesPaused(), which allows<br/>you to turn off entity processing if you don't want ShowPage() to do it for you. This should also prevent the player from moving.

In addition, you can disable the Verge3<br/>'sprites', or just plain not use them, if you don't want them drawn. See V3 Docs -> Function Reference -> Sprite Functions.

There is no real way to disable the updating of<br/>input. Verge3 will always do that now, which means even an empty eternal loop will bow down to ALT-X. Although it is good coding practice to call UpdateControls(), in my<br/>opinion.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>Rect(0, 0, 100, 100, RGB(128, 128,128), screen);
ShowPage();</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>Silhouette</b></big> (<i>int x, int y, int color, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Draws a colored silhouette of one image onto another image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Essentially, this is like a TBlit, except everywhere there's a non-transparent pixel in the source image, it will place a pixel of the color you specify in the destination image.<br/>In effect, a colored silhouette of the source image.

Silhouette abides by the SetLucent() value, however to acheive the effect you probably want with that, you will need to<br/>TBlit the source image directly first, then do a lucent Silhouette on top of it.

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>Silhouette(0, 0, hero, rgb(0,0,255), screen); //it's a blue silhouette of the hero!</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SubtractiveBlit</b></big> (<i>int x, int y, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Subtractive blits one image onto another.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function is very much like Blit(), but draws the pixels with subtractive blending.  Subtractive blending has few uses, but when it is put to good use, can be very handy.  The<br/>best way to become familiar with it's uses is purely experimentation.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int image;
image = LoadImage("mypic.pcx");

SubtractiveBlit(0, 0, image, screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>TAdditiveBlit</b></big> (<i>int x, int y, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>A transparent-conscious version of AdditiveBlit</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Same as AdditiveBlit, with the exception that this function does not draw transparent pixels.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int image;
image = LoadImage("mypic.pcx");

TAdditiveBlit(0, 0, image, screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>TBlit</b></big> (<i>int x, int y, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Draws an image onto another, but lets the base image show through the transparent parts of the source.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Identical to Blit() in every way, the only exception here is that transparent colored pixels are not drawn to destimage.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int image;
image = LoadImage("mypic.pcx");

TBlit(0, 0, image, screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>TBlitLucent</b></big> (<i>int x, int y, int lucent, int source, int dest</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Simple transparent blit with constant translucency override</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Identical to LucentBlit() in every way, the only exception here is that transparent colored pixels are not drawn to destimage. </tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>BlitLucent(300,220,50,stationWatermark,screen); //station watermark</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>TBlitTile</b></big> (<i>int x, int y, int tile, int dest</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Blit a tile from the vsp with transparency</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Blit tile index 'tile' to x,y on image 'dest' with transparency</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>none</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>TGrabRegion</b></big> (<i>int sx1, int sy1, int sx2, int sy2, int dx, int dy, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Extracts a sub-rectangle from a given image and blits with transparency</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>TGrabRegion receives the rectangle that it should extract from the source image in (sx1,sy1)->(sx2,sy2). This rectangle is placed into the destination image with transparency at<br/>(dx,dy). This function is very useful for manually slicing up an image that contains a strip of frames for an animation and extracting a single frame from it. The example will<br/>demonstrate this</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELLint edgar = loadimage("edgar.pcx");
int leftFrame = NewImage(16,24);

//the order of things is down/up/left/right in the world of verge
//that means we need the third<br/>frame
TGrabRegion(16*2,0,16*2 +15,23,0,0,edgar,leftFrame);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>Triangle</b></big> (<i>int x1, int y1, int x2, int y2, int x3, int y3, int c, int dest</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Renders a triangle</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Triangle() will draw a triangle using the vertices (x1,y1); (x2,y2); (x3,y3).

This is a bad triangle routine, and if you try to assemble a more complicated polygon from a<br/>number of triangles, some pixels will be overwritten along the edge.  This creates undesirable artifacts in some cases, such as when translucency is enabled (a seam will sometimes<br/>be visible).
We hesitate to improve this because you don't need to be making 3d games.  But if you are making a starfox clone, please let us know and we can talk about it.

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//a green, right, 3-4-5 triangle
triangle(0,0,0,40,30,0,rgb(0,255,0),screen);
// |\
// | \
// |  \
// +---
</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>TScaleBlit</b></big> (<i>int x, int y, int dw, int dh, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>A transparency-conscious version of Scaleblit.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Indentical to ScaleBlit, with the exception that transparent pixels will not be drawn to the destimage.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int image;
image = LoadImage("image.pcx");

TScaleBlit(0, 0, ImageWidth(image) * 2, ImageHeight(image) * 2, image, screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>TSubtractiveBlit</b></big> (<i>int x, int y, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>A transparency-conscious version of SubtractiveBlit.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Identical to SubtractiveBlit, with the exception that transparent pixels will not be drawn to the destimage.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int image;
image = LoadImage("mypic.pcx");

TSubtractiveBlit(0, 0, image, screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>TWrapBlit</b></big> (<i>int x, int y, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>A transparency-conscious version of WrapBlit.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Identical to WrapBlit, with the exception that transparent pixels aren't drawn.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int mytile;
mytile = LoadImage("tile.pcx");

TWrapBlit(0, 0, mytile, screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>WrapBlit</b></big> (<i>int x, int y, int sourceimage, int destimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Blits a tiling pattern of an image onto another image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>WrapBlit can be a very useful function.  What it does is tiles sourceimage from it's origin coordinates (x,y) until it fills all of destimage (respecting the destination image's<br/>clipping rectangle).

This can be used to create backgrounds that scroll around, while still keeping the screen filled.

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int mytile;
mytile = LoadImage("tile.pcx");

WrapBlit(0, 0, mytile, screen);</pre></td></tr></table><br/><br/><li><a id="27" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Sprite Functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>For the corresponding sprite variables go <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=79</a></p></div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetSprite</b></big> (<i></i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>ResetSprites</b></big> (<i></i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><li><a id="23" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Sound/Music Functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'></div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>FreeSong</b></big> (<i>int h</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Free the song from memory to prevent memory leakage</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Free song 'h' from memory to prevent memory leakage</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int mysong=loadSong("mysong.mp3");
freeSong(mysong);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>FreeSound</b></big> (<i>int handle</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Releases a loaded sound from memory.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Use this to free the memory occupied by a WAV file.  It is good coding habit to always free memory you fill.  If you do not, you could create system degenerating memory leaks, and<br/>those are no good.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int MySound;
MySound = LoadSound("file.wav"); // load a sound into the MySound handle...

// ..use MySound..

FreeSound(MySound); // ...done using it, free up the memory.
</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetSongPos</b></big> (<i>int h</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>returns the current position of a song</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>returns the current position of song 'h'</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>getSongPos(mysong); returns 10</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>GetSongVolume</b></big> (<i>int h</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>returns the volume of the song your playing</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>returns the volume of song 'h'</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>getSongVolume(mysong); returns 100</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>LoadSong</b></big> (<i>string name</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>load a song into memory for playing</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Load song 'name' into memory for playing.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int mysong=loadSong("mysong.mp3");
playsong(mysong);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>LoadSound</b></big> (<i>string wavfile</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Loads a wav file into memory and returns a SOUND handle that the sound API can use.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Loads a WAV file into the sound cache, and returns a handle for use when directing sound effect-related function calls upon the WAV.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int MySound;
MySound = LoadSound("myfile.wav");
// use MySound</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>PlayMusic</b></big> (<i>string songfile</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Loads and plays the specified songfile.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function loads and immediately plays the specified song.
This is the cornerstone of the 'simple' music API.  It does not return a handle, it does no caching, it just loads<br/>and plays the song until you call PlayMusic() again with a different song, or until you call StopMusic().
Important note is that it resets to volume to 100 whenever called, so<br/>make sure to use SetMusicVolume() afterwards if you need to.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>PlayMusic("mysong.xm");
SetMusicVolume(music_volume);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>PlaySong</b></big> (<i>int h</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Play a song that you have loaded into memory</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Play song 'h' that you have loaded into memory</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int mysong=loadSong("mySong.mp3");
playsong(mysong);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>PlaySound</b></big> (<i>int handle, int volume</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Plays the given sound effect at the given volume</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Handle should be a handle obtained from loadsound()
Volume should be 0..100
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int MySound;
MySound = LoadSound("file.wav");

PlaySound(MySound, 100);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetMusicVolume</b></big> (<i>int v</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>set the volume of the music playing</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>set the volume of currently playing music to 'v'</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>setMusicVolume(50);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetSongPaused</b></big> (<i>int h, int p</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>pause a song that&#039;s playing</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>pause song 'h' at position 'p'</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>SetSongPaused(mysong, getSongPos(mysong));</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetSongPos</b></big> (<i>int h, int p</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>set the current position of a song playing</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>set the current position song 'h' to position 'p'</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>setSongPos(mysong, 20);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SetSongVolume</b></big> (<i>int h, int v</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets the current volume of a song playing</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Sets the current volume of song 'h' to volume 'v'</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>setSongVolume(mysong, 100);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>StopMusic</b></big> (<i></i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Halts current music playing completely.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Halts current music playing completely.
This is part  of the simple mucis API.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>PlaySong("mysong.xm");

// do stuff.

StopMusic();</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>StopSong</b></big> (<i>int h</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Stop playing a song</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Stop playing song 'h'</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int mysong=LoadSong("mysong.mp3");
playSong(mysong);
stopsong(mysong);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>StopSound</b></big> (<i>int chan</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>stops playing a sound</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>stops playing sound 'chan'</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int mysound=loadSound("crack.wav");
playSound(mysound);
stopSound(mysound);</pre></td></tr></table><br/><br/><li><a id="24" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Font Functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'>1. There is a predefined, tiny, white, variable-width font built-in to the engine.  For any of these font functions, use the font handle 0 (zero) to access this font.</div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>EnableVariableWidth</b></big> (<i>int fonthandle</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Turns variable-width mode on for the specified font.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function enables variablewidth mode for the font passed. If you're not familiar with variable-width fonts, this simply means that each character only occupies as much space as<br/>it needs when printing.

You should NOT call this with 0 as an arguement, as you might with other font routines to denote the builtin font; the built-in font is always variable<br/>width, and passing 0 to this function will generate an error.

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int MainFont;

MainFont = LoadFont( "my_font.gif" );

EnableVariableWidth( MainFont );</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>FontHeight</b></big> (<i>int font</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the height of a font</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>When passed a font handle it will return the height of a character. This is constant, and will include any excess space that existed in the font graphic.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>font = LoadFont("font.png");
fontht = FontHeight(font);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>FreeFont</b></big> (<i>int font</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Frees a font that you have previously loaded</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Just use this function to free a font that you don't need any more.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int MainFont;
//load and use the font
FreeFont(MainFont);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>LoadFont</b></big> (<i>string sourceimage</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Loads a font from an image file and returns a FONT handle to be used by other font functions..</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Loads a font from an image file and returns a handle to the font.  sourceimage should be a filename.  The width/height of the cells in the font will be automatically detected.  Use<br/>LoadFontEx() if the autodetection is failing and you need to manually specify a cell width</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int MainFont;
MainFont = LoadFont("myfont.pcx");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>LoadFontEx</b></big> (<i>string sourceimage, int width, int height</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Loads a font from an image file and returns a FONT handle to be used by other font functions.. (advanced)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Loads a font from an image file and returns a handle to the font.  sourceimage should be a filename, and width/height represent the cell width/height in the image file.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int MainFont;
MainFont = LoadFont("myfont.pcx", 10, 10);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>PrintCenter</b></big> (<i>int x, int y, int destimage, int font, string text</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Prints a center-justified string at the specified coordinates.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Prints centered text at (x,y). If you pass 0 for the font handle, a builtin font will be used.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>PrintCenter(ImageWidth(screen) / 2, ImageHeight(screen) / 2, screen, MainFont, "Hello World!");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>PrintRight</b></big> (<i>int x, int y, int destimage, int font, string text</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Prints a right-justified string with the rightmost point at the given coordinates.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Prints 'text' at (x,y), with right justification. If you pass 0 for the font handle, a builtin font will be used.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>PrintRight(ImageWidth(screen)-1, ImageHeight(screen)-1, screen, MainFont, "Hello World!");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>PrintString</b></big> (<i>int x, int y, int destimage, int font, string text</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Prints a left-justified string at the given coordinates.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function, which has a stupid order of arguments, prints text to the screen.  All the arguments should be self-explanatory, even if they are in retarded order. If you pass 0<br/>for the font handle, a built-in font will be used.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>PrintString(0, 0, screen, MainFont, "Hello World!  Also Grue is sexy!");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>TextWidth</b></big> (<i>int font, string text</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the width of a string rendered in a specific font.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the width (in pixels) of the passed string using the passed font. If you pass 0 for the font handle, it will return the width of the text baesd on the builtin font.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int text_w;

text_w = TextWidth(MainFont, "Hello World!");</pre></td></tr></table><br/><br/><li><a id="45" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Math Functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>Trigonometric functions use a certain convention for angles that you may think a little odd.  Zero degrees points due east and ninety degrees is due north.  If you are using another convention in your game--such as zero degrees due north--then you will have to constantly convert between them when using the trig functions.  I advise you not to use another convention in your game.  Some things are worth fighting, but not this.
<p>
You will need to use <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=85">Fixed-point numbers</a> with these functions.</div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>acos</b></big> (<i>int cos</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the arccosine of a given value in fixed-point notation.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the arccosine of the input value. As implied by the example, acos() takes its input value in 16.16 fixed point, so the input value should range from -65535 to +65535. The<br/>output is in integer degrees.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int z = acos(65535/2);

Exit( str(z) );  // acos of ".5" should be 60.

</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>asin</b></big> (<i>int sin</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the arcsine of the input value in fixed-point notation.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the arcsine of the input value. As implied by the example, asin() takes its input value in 16.16 fixed point, so the input value should range from -65535 to +65535. The<br/>output is in integer degrees.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int z = asin(sin(30));
Exit(str(z));</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>atan</b></big> (<i>int tan</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the arctangent of the given value in fixed-point notation.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the arctangent of the given value. The input value should be in 16.16 fixed point (eg, multiplied by 65535).

Here is some code (use at your own risk) that will<br/>accomplish atan2() for you:

int atan2(int y, int x)
{
  int t;
  if(x = 0)
  {
    if(y>0) return 90;
    else return 270;
  }
  if(y = 0)
  {
    if(x 0 && y
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int at = atan(tan(45));
Exit(str(at));</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>atan2</b></big> (<i>int y, int x</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Calculates arctan of y,x</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This function will compute the arctan (tan-1) of y/x, and based upon the coordinates of y and x, put the result into the proper quadrant.
Note the odd order of the arguments, y<br/>and x.  Thats backwards from usual.  Beware...
Unlike the inputs to the other inverse trig functions, y and x do not need to be fixed point *65536.  Although, it should not hurt<br/>anything if they are
This function will be released in a near-future version of verge</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int x = 0-2;
int y = 2;
//this point should be in quadrant II (northwest)

atan(y*65536/x); //-45
//-45 is in quadrant IV (southeast); not what we expected

atan2(y,x);<br/>//135
//135 is in quadrant II, just as we expected
</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>cos</b></big> (<i>int angle</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the cosine of the specified angle in fixed-point notation.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the cosine of the specified angle. Note that the angle input will be in integer degrees (0..360, which will loop at values >=360), however the return value will be in fixed<br/>point 16.16, meaning the value will be effectively multiplied by 65535, thus the return value will range from -65535 to +65535.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>SetPixel(150+(sin(systemtime)*40/65535), 100+(cos(systemtime)*40/65535), RGB(255,255,255), screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>pow</b></big> (<i>int base, int exp</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Raises base to exp power</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Pow() will raise base to the power specified by exp.
This function is darn well near impossible to use with fixed point.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int i;
int powerOfTwo;
for(i=0;i</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>sin</b></big> (<i>int angle</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the sine of a given angle in fixed-point notation.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This returns the sine of a given angle. Note that the angle input will be in integer degrees (0..360, which will loop at values >=360), however the return value will be in fixed<br/>point 16.16, meaning the value will be effectively multiplied by 65535, thus the return value will range from -65535 to +65535.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>SetPixel(150+(sin(systemtime)*40/65535), 100, RGB(255,255,255), screen);</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>sqrt</b></big> (<i>int number</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the square root of the given number</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>sqrt() returns the square root of the given input number.
To use this with *65536 fixed-point, use the fixed-point number as an input and multiply the result by 256.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int x = 225 * 65536 / 100; //2.25 in fixed point

int result = sqrt(x)*256;
//returns 98304, which is 1.5 in fixed-point, as we expected</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>tan</b></big> (<i>int angle</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the tangent of the given angle in fixed-point notation.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the tangent of the given angle. The input angle is in integer degrees, however the output is in 16.16 fixed point; to convert it to a usable format, you should multiply the<br/>return value by your desired range, then divide it by 65535. Unlike sin/cos, this ranges from -infinity to +infinity.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int z = tan(180);</pre></td></tr></table><br/><br/><li><a id="25" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>File Functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>
A quick overview of verge file i/o functions. The standard procedure is to pass a filename to <a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=20">FileOpen()</a> and get a file handle to use with the data read/write functions, and the close the file with <a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=21">FileClose()</a> at the end. A few important points first. Opening a file in write mode will create a new file if one doesn't exist, but will <i>overwrite</i> if one does exist - just opening the file wipes all the data. Also, all read and write operations go from the current position in the file, which starts at the beginning, and move the position onwards in the process. Finally, the base unit of all everything here is the byte, 8 binary 1/0 switches, which equates to a number from 0 to 255 or one character of ascii text. There are two main uses for file i/o in verge, there's a brief summary of both below.

<p><h3>Reading from plain text data files</h3></p>
<p>Useful for: Managing in-game data in an easy to access and alter form. Load-once purposes.
</p><p><a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=145">FileReadLn()</a> to get a sting of data from the file (be careful not to use lines wider than 255 characters)
</p><p><a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=87">GetToken()</a> to extract the information from the string
</p><p><a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=79">val()</a> to turn string data into numbers where needed.
</p><p>
As it's easy to make the odd mistake when creating or editing datafiles by hand, be sure to add some error checking in case of mistakes, and preferably allow for extra non-data lines, so the file can be commented/explained where needed.
</p>
<p><h3>Writing and reading binary data files</h3></p>
<p>Useful for: Recording and recalling data mid game. Fast read and write times.
</p><p>
<a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=152">FileWriteQuad()</a> for writing any integer variables to file.
</p><p><a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=153">FileWriteString()</a> for writing any string variables to file.
</p><p><a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=156">FileReadQuad()</a> for reading integer variables from file.
</p><p><a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=157">FileReadString()</a> for reading string variables from file.
</p><p>
There are several functions that do similar things, but these are relatively safe and simple, just remember to match the read and write formats exactly, and be aware changing either will cause big problems. For this reason, writing a 'version number' at the top of the file, and checking it is up to date on read might be useful.
</p></div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>FileClose</b></big> (<i>int file</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Releases a file handle when it is no longer needed</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Pass a handle to an open file, and verge frees the file and... stuff. Make sure you do this for each file you open, after you've finished using it. For... lots of reasons.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int count = 1;
int file = FileOpen("save"+str(count)+".dat", FILE_READ);
while(file)
{
	FileClose(file);
	count++;
	file = FileOpen("save"+str(count)+".dat",<br/>FILE_READ);
}
FileClose(file);
// Counts number of save games by opening them and checking if
// The file pointer returned is valid, stopping when it's not
// It's very<br/>important to remember to close the files after
// Opening them, so they can be used later</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>FileCurrentPos</b></big> (<i>int file</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the current byte position in an open file</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Pass a file handle opened in either read or write mode, and it returns the number of preceding bytes to the current position. As all read/write functions automatically increment<br/>the position, this is will generally return the number of the next byte to be read/written.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("dump.dat", FILE_WRITE);
Log("Start: "+str(FileCurrentPos(file)));
FileWriteQuad(file, 97);
Log("After Quad:<br/>"+str(FileCurrentPos(file)));
FileWriteString(file, "Four");
Log("After String: "+str(FileCurrentPos(file)));
FileClose(file);
// Creates/overwrites a new file and writes some<br/>data
// Logging the position after each step, like so:
// "Start: 0"
// "After Quad: 4"
// "After String: 10"
// Position starts at 0
// After writing a quad byte position is<br/>4
// After writing a string of length 4, with 2 byte header
// Incrememnts another 6, for a total position of 10</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>FileOpen</b></big> (<i>string filename, int mode</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Opens a file in the directory system for reading or writing</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Will open or create a file of the passed name, for either reading or writing, depending on the mode passed. It returns a handle to the file as a non zero integer. If the<br/>operation fails, it returns 0, which idealy you should check for before reading from the file.


The mode pass is to determine if you want to read from or write to the file,<br/>only one can be selected, and the file must be closed and re opened to change to the other mode. The defines used by verge are:

#define FILE_READ 1
#define FILE_WRITE<br/>2

Verge will always return 0 if you try to open a file in read mode that does not exist, however write mode will create a new file with that name. More importantly however, it<br/>will always overwrite any data if the file already exists (that's CREATE_ALWAYS for windows programmers). This makes appending to the end of an existing file rather<br/>annoying.


Verge does not let you access the directory structure oustside your current branch. You can access sub folders, but no overwriting stuff in c:\windows... unless of<br/>course verge is run from there.


Like most things in verge, case matters not a whit. You can pass upper or lower case letters for a filename, and it will still find the right<br/>thing, even if you are silly: "ReAdmE.tXT" will still open the file.

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("maped3.exe", FILE_WRITE);
FileClose(file);
// Oh dear! You've just replaced Maped 3 with a blank file
// Doh... I actually just did, time to download the<br/>verge engine again</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>FileReadByte</b></big> (<i>int file</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Reads a byte from file into an integer</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Pass a handle to a file opened in read mode, and returns the integer value of the byte at the current position, and moves the position onto the next byte. The returned number will<br/>always between 0 to 255.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("readme.txt", FILE_READ);
Log(str(FileReadByte(file)));
FileClose(file);
// This read the first byte and logs the value
// First line is "Welcome to VERGE<br/>3! " so logs
// The number '87' which is the value of 'W' in ascii</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>FileReadLn</b></big> (<i>int file</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns data from a file as an ascii string, ending at a new line</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Pass a handle to a file opened in read mode, and it reads bytes from the file as ascii and returns a string. It starts reading at the current position in the file, and stops when<br/>it reaches a new line marker, or after 255 characters, which ever comes first. The current position in the file is incremented to the start of the next line.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("README.TXT", FILE_READ);
FileSeekPos(file, 1, SEEK_CUR);
Log(FileReadLn(file));
FileClose(file);
// If you have the same verge readme in the directory
//<br/>This will write the string below in the v3.log file
// "elcome to VERGE 3! "</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>FileReadQuad</b></big> (<i>int file</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Reads four bytes from file into an integer</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Pass a handle to a file opened in read mode, and returns the integer value of the first four bytes at the current position, and moves the position onto the following byte. The<br/>can be the full value of a verge integer, including negative numbers. The least significant byte is read in first, so effectively performing:


FileReadByte(file) +<br/>(FileReadByte(file) </tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("readme.txt", FILE_READ);
Log(str(FileReadWord(file)));
FileClose(file);
// This read the first two bytes and logs the value
// First line is "Welcome to<br/>VERGE 3! " so logs
// The number '1668048215' which is a compound
// Of the values of 'W', 'e', 'l', and 'c' in ascii
// Obviously this is more useful as a big number</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>FileReadString</b></big> (<i>int file</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Reads a string from file as ascii with a two byte length header</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Pass a handle to a file open in read mode, and it returns a string of bytes in ascii, of length determined by a two byte header. The file reads from the current position, and<br/>increments the position to the end of the string. Note the string to be read must have been written using FileWriteString() as it needs the two byte header to know how much of the<br/>file to read.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>string text = "Check me";
int file = FileOpen("test.txt", FILE_WRITE);
FileWriteString(file, text);
FileClose(file);
int file = FileOpen("test.txt", FILE_READ);
if<br/>(strcmp(FileReadString(file), text)) Log("LIES!");
else Log("Truth!");
FileClose(file);
// So, that should should always log the truth
// Don't let strcmp confuse you there,<br/>it's always
// The wrong way around, returns 0 on match


int file = FileOpen("readme.txt", FILE_READ);
Log(str(len(FileReadString(file))));
FileClose(file);
// This logs a<br/>length of 9318 for the string read
// As it wrongly interpreted the first two bytes
// As a length in word format. Make sure to only
// Use this when the data was written<br/>correctly</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>FileReadToken</b></big> (<i>int file</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Reads a string from file as ascii stopping at whitespace</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>This works like GetToken. Each time you call this, it will return a string using whitespace as a token delimiter. It automatically increments which token it will return, so calling<br/>it repeatedly will return a sequence of strings.

</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int thefile = loadfile("stuff.txt");

log(filereadtoken(thefile));</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>FileReadWord</b></big> (<i>int file</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Reads two bytes from file into an integer</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Pass a handle to a file opened in read mode, and returns the integer value of the first two bytes at the current position, and moves the position onto the following byte. The<br/>returned number will always between 0 to 65535. The least significant byte is read in first, so effectively performing:


FileReadByte(file) + (FileReadByte(file) </tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("readme.txt", FILE_READ);
Log(str(FileReadWord(file)));
FileClose(file);
// This read the first two bytes and logs the value
// First line is "Welcome to<br/>VERGE 3! " so logs
// The number '25943' which is the value of 'W' in ascii
// plus the value of 'e' raised by one byte
// 87 + (101 </pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>FileSeekLine</b></big> (<i>int file, int linenum</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets the current position in the file based on newline markers</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Pass a handle to a file open in read mode, and it will set the current position in the file to the byte after the (linenum) new line is passed. Passing 0 sets the position to the<br/>start of the file.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("readme.txt", FILE_READ);
FileSeekLine(file, 12);
Log(FileReadLn(file));
FileClose(file);
// For the current verge readme this logs:
//<br/>"http://www.verge-rpg.com/docs/"
// Which is line number 13 as count starts at 0</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>FileSeekPos</b></big> (<i>int file, int pos, int mode</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Sets the current position in the file based byte ofsets</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Pass a handle to a file open in either read or write mode, an distance in bytes to move, and a mode to determine the starting position.... Pants... I'll do this later.

#define<br/>SEEK_SET 0
#define SEEK_CUR 1
#define SEEK_END 2
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("readme.txt", FILE_READ);
FileSeekPos(file, 25, SEEK_SET);
Log(str(FileReadByte(file)));
FileClose(file);
// Reads the 26th byte from the start of the<br/>readme
// Remeber newline markers are two characters
// Logs '97' which is the ascii value of little a
// "Welcome to VERGE 3! "
// "(Readme.txt, 2004.09.28 edition of v3)"
//<br/>    ^


int file = FileOpen("dump.txt", FILE_WRITE);
FileWrite(file, "Oh fuck!");
FileSeekPos(file, 0-4, SEEK_END);
FileWriteByte(file, '*');
FileClose(file);
// Going<br/>backwards from the end of the file
// We impose a little censorship! Yeay!</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>FileWrite</b></big> (<i>int file, string s</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Writes a string to file as ascii with no padding</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Pass a handle to a file that is opened in write mode, and a string to be written. The string is written from the current position in the file, overwriting any existing data. It<br/>uses a 1 byte ascii representation for each character, with no padding or escape sequence - so bytes used is equal to len(s).
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("datafile.dat", FILE_WRITE);
FileWrite(file, "a");
FileClose(file);
// This creates/overwrites a file one byte in size
// Opened in a hex editor the<br/>contents will be: '61'
// Which is the ascii code of a little a


int file = FileOpen("datafile.dat", FILE_WRITE);
FileWrite(file, "Hello Number 1");
FileClose(file);
//<br/>Always writes one byte per character
// So this is a 14 byte file. In hex:
// '48 65 6c 6c 6f 20 4e 75 6d 62 65 72 20 31'
</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>FileWriteByte</b></big> (<i>int file, int byte</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Writes an integer to file as one byte</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Pass a handle to a file that is opened in write mode, and an integer to be written. The byte will be written at the current position within the file, over any data that was<br/>previously there, and position will move to the next byte. As only one byte of the four that make up a verge integer is being written, any numbers bigger than 255 or less than 0<br/>will NOT be written correctly. Use FileWriteQuad() unless sure the number being written will remain within these bounds.


Verge is effectivly only writing the 8 least<br/>significant bits of the passed integer, so performing a (integer & 255) operation before writing. Numbers outside the range of 0 to 255 will be written as another number with the<br/>range, depending on the value of the least significant byte.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("datafile.txt", FILE_WRITE);
FileWriteByte(file, 97); // or $61 or 'a'
FileClose(file);
// Opens/Creats a file and writes one byte to it
// Opened in a hex<br/>editor gives '61' as value of the byte
// In a text editor it gives the ascii 'a'

int file = FileOpen("datafile.txt", FILE_WRITE);
FileWriteByte(file, 0 -<br/>2);
FileClose(file);
// Negative numbers are not stored properly
// Opened in a hex editor gives 'fe' as value of the byte
// -2 in binary: 11111111111111111111111111111110
//<br/>Least significant byte: 11111110
// Decimal: 254</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>FileWriteLn</b></big> (<i>int file, string s</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Writes a string to file as ascii with a newline at the end</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Pass a handle to a file that is opened in write mode, and a string to be written. The string is written from the current position in the file, overwriting any existing data. It<br/>uses a 1 byte ascii representation for each character, and appends a 2 byte newline sequence on the end of the string  - so bytes used is equal to len(s) + 2.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("datafile.dat", FILE_WRITE);
FileWriteLn(file, "a");
FileClose(file);
// This creates/overwrites a file three bytes in size
// Opened in a hex editor the<br/>contents will be: '61 0d 0a'
// Which is the ascii code of a little a
// With two characters added to denote the new line

int file = FileOpen("datafile.dat",<br/>FILE_WRITE);
FileWriteLn(file, "Hello");
FileWriteLn(file, "Peeps");
FileClose(file);
// Opened in a text editor this reads:
// "Hello
// "Peeps
// ""
// Three lines, with<br/>the last one blank</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>FileWriteQuad</b></big> (<i>int file, int quad</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Writes an integer to file as four bytes</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Pass a handle to a file that is opened in write mode, and an integer to be written. Four bytes will be written at the current position within the file, over any data that was<br/>previously there, and position will move to the next byte. As this writes the full value of the verge integer, it will read back exactly as it was stored.


Note that the bytes<br/>are stored in order of least significant to most significant. In effect what happens is:


FileWriteByte(quad & 255);
FileWriteByte(quad & (255 </tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("datafile.txt", FILE_WRITE);
FileWriteQuad(file, 97); // or $61 or 'a'
FileClose(file);
// Opens/Creats a file and writes four byte to it
// Opened in a hex<br/>editor gives '61 00 00 00'

int file = FileOpen("datafile.txt", FILE_WRITE);
FileWriteQuad(file, 0 - 2);
FileClose(file);
// All integers are stored in full
// -2 in binary:<br/>11111111111111111111111111111110
// File opened in a hex editor gives 'fe ff ff ff'
</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>FileWriteString</b></big> (<i>int file, string s</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Writes a string to file as ascii with the length stored in a header</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Pass a handle to a file that is opened in write mode, and a string to be written. The string is written from the current position in the file, overwriting any existing data. It<br/>uses a 1 byte ascii representation for each character, and writes a 2 byte string length before the start of the string - so bytes used is equal to len(s) + 2. By storing the<br/>length first like this, it is possible to use FileReadString() to read a string of abritary length back.
</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("datafile.txt", FILE_WRITE);
FileWriteString(file, "a");
FileClose(file);
// This creates/overwrites a file three bytes in size
// Opened in a hex editor<br/>the contents will be: '01 00 61'
// Which is the ascii code of a little a
// With two bytes before saying the string is length one
// Note the least significant bit comes<br/>first

int file = FileOpen("datafile.txt", FILE_WRITE);
FileWriteString(file, "A string here");
FileWriteString(file, "And another one");
FileClose(file);
// Because the<br/>length is stored before the characters
// You can write strings however, and still read back
// As distinct separate values</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>FileWriteWord</b></big> (<i>int file, int word</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Writes an integer to file as two bytes</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>
Pass a handle to a file that is opened in write mode, and an integer to be written. Two bytes will be written at the current position within the file, over any data that was<br/>previously there, and position will move to the next byte. As only two bytes of the four bytes that make up a verge integer is being written, any numbers bigger than 65535 or less<br/>than 0 will NOT be written correctly. Use FileWriteQuad() unless sure the number being written will remain within these bounds.


Verge is effectivly only writing the 16 least<br/>significant bits of the passed integer, so performing a (integer & 65535) operation before writing. Numbers outside the range of 0 to 65535 will be written as another number with<br/>the range, depending on the value of the two least significant bytes. Note also that the bytes are stored in order of least significant to most significant. In effect what happens<br/>is:


FileWriteByte(quad & 255);
FileWriteByte(quad & (255 </tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int file = FileOpen("datafile.txt", FILE_WRITE);
FileWriteByte(file, 97); // or $61 or 'a'
FileClose(file);
// Opens/Creats a file and writes one byte to it
// Opened in a hex<br/>editor gives '61 00' as value of the byte
// In a text editor it gives the ascii 'a'

int file = FileOpen("datafile.txt", FILE_WRITE);
FileWriteByte(file, 0 -<br/>2);
FileClose(file);
// Negative numbers are not stored properly
// Opened in a hex editor gives 'fe ff' as value of the byte
// -2 in binary:<br/>11111111111111111111111111111110
// Two least significant bytes: 1111111111111110
// Decimal: 65534</pre></td></tr></table><br/><br/><li><a id="28" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Window Managment Functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'></div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>WindowClose</b></big> (<i>int w</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Closes a window</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Closes window 'w'.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int debugWindow=windowCreate(0,0,100,100,"Debug");
int debugImage=windowGetImage(debugWindow);
closeWindow(debugWindow);

printString(0,0,debugImage,0,"This is my debug<br/>window!"); //ERROR!!!
//why was there an error? BECAUSE THE WINDOW WAS CLOSED DAMMIT!</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>WindowCreate</b></big> (<i>int x, int y, int w, int h, string title</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Creates another window</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Creates a window at x,y with witdh and height w,h and named title. The function returns the pointer for the window.

NOTE: the window pointer is not the same as the image<br/>pointer. to write to the window image you must use the windowGetImage() function.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int debugWindow=windowCreate(0,0,100,100,"Debug");
int debugImage=windowGetImage(debugWindow);

printString(0,0,debugImage,0,"This is my debug window!");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>WindowGetHeight</b></big> (<i>int window</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODE</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODE</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODE</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>WindowGetImage</b></big> (<i>int w</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns the image pointer for a window</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns the image pointer for window 'w'.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int debugWindow=windowCreate(0,0,100,100,"Debug");
int debugImage=windowGetImage(debugWindow);

printString(0,0,debugImage,0,"This is my debug window!");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>WindowGetWidth</b></big> (<i>int window</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODE</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODE</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODE</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>WindowGetXRes</b></big> (<i>int window</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODE</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODE</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODE</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>WindowGetYRes</b></big> (<i>int window</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODE</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODE</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODE</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>WindowHide</b></big> (<i>int w</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Hides a window</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Hides window 'w'. Does not close it, the window can be brought back with windowShow().</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int debugWindow=windowCreate(0,0,100,100,"Debug");
int debugImage=windowGetImage(debugWindow);

printString(0,0,debugImage,0,"This is my debug window!");
//NOW YOU SEE<br/>IT!
windowHide(debugWindow);
//NOW YOU DONT!
windowShow(debugWindow);
//WAIT... NOW YOU DO, AGAIN!</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>WindowSetPosition</b></big> (<i>int w, int x, int y</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Move the window&#039;s position</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Move window 'w' position to x,y.

NOTE: x,y is the position of the upper left corner pixel.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int debugWindow=windowCreate(0,0,100,100,"Debug");

//the window is at 0,0!

WindowSetPosition(debugWindow,100,100);

//the window is at 100,100!

</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>WindowSetSize</b></big> (<i>int window, int w, int h</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODE</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODE</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODE</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>WindowSetTitle</b></big> (<i>int w, string title</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Set the new title for a window</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Set title of window 'w' to 'title'.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int debugWindow=windowCreate(0,0,100,100,"Debug");
int debugImage=windowGetImage(debugWindow);

printString(0,0,debugImage,0,"This is my debug<br/>window!");

windowSetTitle(debugWindow, "Not my debug window");

rectFill(0,0,100,100,0,debugImage);
printstring(0,0,debugImage,0,"this is NOT my debug window _...");</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>WindowShow</b></big> (<i>int w</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Returns a window from hiding</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Returns window 'w' from hiding.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>int debugWindow=windowCreate(0,0,100,100,"Debug");
int debugImage=windowGetImage(debugWindow);

printString(0,0,debugImage,0,"This is my debug window!");
//NOW YOU SEE<br/>IT!
windowHide(debugWindow);
//NOW YOU DONT!
windowShow(debugWindow);
//WAIT... NOW YOU DO, AGAIN!</pre></td></tr></table><br/><br/><li><a id="29" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Movie Playback Functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>Movies are complicated things in windows.  You can't just take any old movie file and throw it in a game and expect it to work on other people's systems.  Besides that, it is rude to put a big movie file in a game.  Most people will reflexively hit ESC anyway because thats what they are accustomed to doing when assaulted with an FMV.  However, movie functionality is provided for those who have some legitimate need for it.  BUT YOU MUST FOLLOW THESE RULES:
<p>DO NOT USE DIVX OR XVID OR MPEG2.  These codecs do not come with windows, and the player might not have installed them manually.  Use cinepak, indeo, video-1, or even RLE.  The compression might be cruddy, but at least it will work.
<p>If you are thinking about making a video an integral part of your game, you MUST CONTACT ME to discuss it so I can help you make sure you're doing it right.  If you are including a video for some lame purpose like an intro screen are something then I suggest that you not do it, and if you must indeed do it then I suggest that you contact me to get advice on doing it right.</div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>PlayMovie</b></big> (<i>string avi</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODE</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODE</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODE</pre></td></tr></table><br/><br/><li><a id="265" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Netcode Functions</b></u><div style='background-color:#F8EBD8; font-size:11px;'></div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>Connect</b></big> (<i>string hostname</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetConnection</b></big> (<i></i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Nodeshell</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Nodeshell</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>Nodeshell</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetUrlImage</b></big> (<i>string url</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Connects to a URL and returns an image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Attempts to connect to the a given URL, and downloads and returns an image pointer. If it fails, the the pointer will be 0.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>void AutoExec()
{
  //Get a picture of Grue wearing a Verge T-Shirt. Bleh.
  int img=GetUrlImage"http://www.vergerpg.com/images/store/shirt_00_sidebar.jpg");
  while(1)
  {
 <br/> if(img!=0) Blit(0,0,img,screen);
   ShowPage();
  }
}</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>GetUrlText</b></big> (<i>string url</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Return text from a specified URL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Attempts to connect to the a given URL, and returns the contents. If it fails, it will instead return that site's Error 404 (File not Found) message. Could possibly be used in<br/>conjunction with a PHP-enabled page, allowing cool stuff like a dynamic online high-score chart, or something.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//Log the current VergeC functions from vecna's website.
Log(GetUrlText("http://vecna.verge-rpg.com/v3vergec.txt"));</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SocketClose</b></big> (<i>int socket</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>SocketConnected</b></big> (<i>int socket</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>SocketGetFile</b></big> (<i>int socket, string ovfname</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>SocketGetInt</b></big> (<i>int socket</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>SocketGetString</b></big> (<i>int socket</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>SocketHasData</b></big> (<i>int socket</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SocketSendFile</b></big> (<i>int socket, string fname</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SocketSendInt</b></big> (<i>int socket, int i</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SocketSendString</b></big> (<i>int socket, string str</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/></ol><li><b><a href="#31"> </a><div style='font-size:14px; border:1px solid black; padding:0.35em; background-color:#E6FBE4;'><big>Global Variables</big></b><div style='font-size:12px;'>Some of these variable can be written to, some cannot. It's not always immediately obvious which. If you get a "Unknown HVAR1" type of error, it's probably because you a trying to assign to a read-only variable.</div></div><br/></li><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>Connect</b></big> (<i>string hostname</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetConnection</b></big> (<i></i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Nodeshell</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Nodeshell</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>Nodeshell</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>GetUrlImage</b></big> (<i>string url</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Connects to a URL and returns an image.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Attempts to connect to the a given URL, and downloads and returns an image pointer. If it fails, the the pointer will be 0.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>void AutoExec()
{
  //Get a picture of Grue wearing a Verge T-Shirt. Bleh.
  int img=GetUrlImage"http://www.vergerpg.com/images/store/shirt_00_sidebar.jpg");
  while(1)
  {
 <br/> if(img!=0) Blit(0,0,img,screen);
   ShowPage();
  }
}</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>GetUrlText</b></big> (<i>string url</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>Return text from a specified URL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>Attempts to connect to the a given URL, and returns the contents. If it fails, it will instead return that site's Error 404 (File not Found) message. Could possibly be used in<br/>conjunction with a PHP-enabled page, allowing cool stuff like a dynamic online high-score chart, or something.</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>//Log the current VergeC functions from vecna's website.
Log(GetUrlText("http://vecna.verge-rpg.com/v3vergec.txt"));</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SocketClose</b></big> (<i>int socket</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>SocketConnected</b></big> (<i>int socket</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>string</i> <b>SocketGetFile</b></big> (<i>int socket, string ovfname</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>SocketGetInt</b></big> (<i>int socket</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>SocketGetString</b></big> (<i>int socket</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>int</i> <b>SocketHasData</b></big> (<i>int socket</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SocketSendFile</b></big> (<i>int socket, string fname</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SocketSendInt</b></big> (<i>int socket, int i</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><table align='center' style='background-color:white; border:1px solid black;' cellspacing='0' cellpadding='2' width='93%'><tr><td style='font-size:15px; background-color:#FEFFD9;'><tt><big><i>void</i> <b>SocketSendString</b></big> (<i>int socket, string str</i>)</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Description:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Documentation:</u></b></td></tr><tr><td><tt>NODESHELL</tt></td></tr><tr><td style='font-size:13px; background-color:lightgrey;'><b><u>Example Usage:</u></b></td></tr><tr><td><pre>NODESHELL</pre></td></tr></table><br/><br/><ol type=a><li><a id="32" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>General System Variables</b></u><div style='background-color:#F8EBD8; font-size:11px;'><pre>int screen; // this is a hardcoded image handle for the screen
int systemtime; // read-only timer variable constantly increasing
int timer; // read/write timer variable
int key[scancode]; // read/write key-state array
int lastpressed; // scancode of last pressed key
int lastkey; // last key pressed in ASCII</pre>


<b><u>To elaborate:</b></u> <br>
<u>screen</u> - Is a pointer to a bitmap of the screen's current dimensions (set in v3.cfg or by <a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=58">SetResolution()</a> function at runtime). Anything you want to appear in ther verge window should be blitted here with one of the graphics functions. When <a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=59">ShowPage()</a> is called the screen bitmap is transfered to the display. <br><br>
<u>systemtime</u> - Stores the current time as given by your computer's internal clock. See the <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=38">Date/Time variables</a> for more. <br><br>
<u>timer</u> - A number than increases by 100 every second and very useful for anything you need to happen within a set timeframe. As you can re-set this value whenever you like, it's also possible to use it to work out how long ago something happened. <br><br>
<u>key[scancode]</u> - Stores whether a key IS CURRENTLY PRESSED - so if the key was down the last time <a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=59">ShowPage()</a> or <a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=8">UpdateControls()</a> was called. If you want to use is like a HAS BEEN PRESSED state, you'll need to reset the value back to 0 each time manually. Unlike standard ASCII methods key['a'] will not work - verge has its own defines, look at the <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=43">Scan Codes</a> section to see them. <br><br>
<u>lastpressed</u> - Stores the verge scancode of the last keyboard key the player pressed. See <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=43">Scan Codes</a>. <br><br>
<u>lastkey</u> - Same as above, but stores proper ASCII, so 'a' = 97 = little a </div></div><br/></li><li><a id="33" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Mouse Variables</b></u><div style='background-color:#F8EBD8; font-size:11px;'><pre>int mouse.x; // current mouse x-coordinate
int mouse.y; // current mouse y-coordinate
int mouse.l; // read/write left-button status
int mouse.r; // read/write right-button status
int mouse.m; // read/write middle-button status
int mouse.w; // read/write mousewheel thingy</pre>

...
When using the mouse variables, keep in mind they correspond to the position of the V3 window. <br><br>

So if you're using the Antialias/2xSAI/Eagle/whatever it is screen blitter, remember that the actual V3 window size is doubled. You may have to divide mousex and mousey by 2 to get the actual values to work with your code.</div></div><br/></li><li><a id="34" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Joystick Variables</b></u><div style='background-color:#F8EBD8; font-size:11px;'><pre>int joystick; // read/write anchor, current joystick # for joy.* struct (sticks 0-3 valid)
int joy.active; // 0/1 whether or not this joystick is connected and active
int joy.up; // 0/1 for joystick 'up' position
int joy.down; // 0/1 for joystick 'down' position
int joy.left; // 0/1 for joystick 'left' position
int joy.right; // 0/1 for joystick 'right' position
int joy.analogx; // analog position of joystick x-axis (0 center, -1000 max left, +1000 max right)
int joy.analogy; // analog position of joystick y-axis (0 center, -1000 max up, +1000 max down)
int joy.button[button]; // 0/1 for joystick button # depressed (buttons 0-31 valid)</pre></div></div><br/></li><li><a id="35" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Entity Variables</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>For the corresponding entity functions go <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=22">here</a></p>

<pre>int entities;
int entity.x[entity];
int entity.y[entity];
int entity.specframe[entity];
int entity.frame[entity];
int entity.hotx[entity];
int entity.hoty[entity];
int entity.hotw[entity];
int entity.hoth[entity];
int entity.movecode[entity];
int entity.face[entity];
int entity.speed[entity];
int entity.visible[entity];
int entity.obstruct[entity];
int entity.obstructable[entity];
string entity.script[entity];
</pre>

<p><b>entities</b>: (read only) The number of entities currently on the map. Use this an the upper bound any time you need to loop through and check entites for something.</p>

<p><b>entity.x</b> and <b>entity.y</b>: (read/write) The coordinates of the entity on the map. This is a pixel value from the top left corner of the map to the top left corner of the entity's hotspot. To get an x,y coord of the entity on the screen subtract <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=36">xwin and ywin</a>.</p>

<p><b>entity.specframe</b>: (read/write) Similar to setting a z movecode, this sets a frame to display. Remember to set it back to 0 if you want movement animations.</p>

<p><b>entity.frame</b>: (?read only?) ?Just stores the entities current frame?</p>

<p><b>entity.hot(x/y/w/h)</b>: (read only) These four variables specify a rectangle on the entity's frame used for collision detection, x,y coords from the top left corner of the frame, width and height. They are read-only. Why, I don't know. You'll need to set them in the .mak when you create your .chr file.</p>

<p><b>entity.movecode</b>: (read only) reflects the current wandermode of the entity. 0 is not moving, 1 is wander zone, 2 is wander rect, and 3 is movecode.  Attempting to setting this variable manually will crash the system, so if you want to change the wandermode, please use one of the following functions: <a href="./view.php?libid=1&function=108&PHPSESSID=1404b38faf1cbe2fe153ea7a375497fd">EntityStop()</a>, <a href="./view.php?libid=1&function=106&PHPSESSID=1404b38faf1cbe2fe153ea7a375497fd">EntitySetWanderZone()</a>, <a href="./view.php?libid=1&function=107&PHPSESSID=1404b38faf1cbe2fe153ea7a375497fd">EntitySetWanderRect()</a>, or <a href="./view.php?libid=1&function=103&PHPSESSID=1404b38faf1cbe2fe153ea7a375497fd">EntityMove()</a>.</p>

<p><b>entity.face</b>: (read/write) Returns a number that corresponds to the direction the entity is facing.  Changing this will change the direction the entity is facing.  Setting it to an invalid value can crash the system.
<pre>
      (up) 1
           |
(left) 3 --+-- 4 (right)
           |
           2 (down)
</pre>
</p>

<p><b>entity.visible</b>: (read/write) [NEW!] Whether or not the entity will be drawn to the screen. A little testing seems to show it affects <a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=124">BlitEntityFrame()</a> as well as <a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=92">Render()</a> and 0 is invisible.</p>
<br>
<p><b>entity.obstruct</b>: (read/write) 1 if the entity's hotspot is an obstruction, 0 if not.</p>
<br>
<p><b>entity.obstructable</b>: (read/write) 1 if this entity cares about obstructions when moving, 0 if not.</p>
<br>
<p><b>entity.script</b>: (read/write) The movescript currently used by this entity.  See <a href="./view.php?libid=1&function=103&PHPSESSID=1404b38faf1cbe2fe153ea7a375497fd">EntityMove()</a> for more details.</p></div></div><br/></li><li><a id="79" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Sprite Variables</b></u><div style='background-color:#F8EBD8; font-size:11px;'>For the corresponding sprite functions go <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=27">here</a>

<pre>sprite.x[]
sprite.y[]
sprite.sc[] // 0 = map coordinates, 1 = screen coordinates
sprite.image[] // 0 = sprite off, else image handle to display
sprite.lucent[]
sprite.addsub[] // 0 = normal blit, -1 = subtractive blit, +1 = additive blit
sprite.alphamap[] // 0 = no alpha blit, else alpha map to use for sprite - alpha overrides addsub</pre>

Sprite System isnt complete right now but when it is, I'll add more documentation</div></div><br/></li><li><a id="36" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Camera Variables</b></u><div style='background-color:#F8EBD8; font-size:11px;'><pre>int xwin, ywin;
int cameratracking, cameratracker;</pre><p>
The camera variables are used to control where on the map the screen is looking. By default cameratracking is set to 1, which means the screen will follow the current player entity around as they move. The xwin and ywin hold the top left corner of the screen position in map x,y pixel coordinates, and will update to keep the player in the center of the screen on each <a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=92">Render()</a>.</p>
<p>Setting cameratracking to 0 turns off this behavior, so you can manually set the xwin and ywin values, and verge will abide by them.</p>
<p>Setting cameratracking to 2 makes the camera follow the target of the cameratracker instead, whatever that may be (entity perhaps?).</p></div></div><br/></li><li><a id="157" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Map Variables</b></u><div style='background-color:#F8EBD8; font-size:11px;'><pre>int curmap.w;
int curmap.h;
int curmap.startx;
int curmap.starty;
int curmap.tileset;
string curmap.name;
string curmap.rstring;
string curmap.music;</pre>

<u>curmap.rstring</u>: Sets the renderstring for the current map. This is in the format "1,2,3,E,4,5,R" - but you can have whatever you want basically. Putting multiple R characters in is useful, that way you can draw between several different layers: use <a href="http://www.verge-rpg.com/docs/view.php?libid=1&function=174">HookRetrace()</a> at the end of each function to specify the next one, or handle in one function with conditionals.<br>
<br>
<u>curmap.tileset</u>: An image handle to the current map VSP, that you CAN draw to (the image will be 16 pixels wide and 16*numtiles tall). NEEDS MOAR<br>
<br>
...plus the rest
</div></div><br/></li><li><a id="160" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Layer Variables</b></u><div style='background-color:#F8EBD8; font-size:11px;'><pre>int layer.lucent;
(more to come in future builds)</pre>

<u>layer.lucent</u>: Sets the lucency value of a layer. Just as with lucent blits, 100 is completely transparent and 0 is fully opaque.<br></div></div><br/></li><li><a id="37" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Event Variables</b></u><div style='background-color:#F8EBD8; font-size:11px;'><pre>int event.tx; // triggering tile x coord of this event, if applicable
int event.ty; // triggering tile y coord of this event, if applicable
int event.zone; // triggering zone of this event, if applicable
int event.entity; // triggering entity of this event, if applicable
int event.param; // parameter passed on event string</pre>

<u>int event.entity</u> refers to the entity who triggered the event as well as the entity being rendered when hooking an entity render.</div></div><br/></li><li><a id="38" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Date/Time Variables</b></u><div style='background-color:#F8EBD8; font-size:11px;'><pre>int sysdate.year; // the system clock year
int sysdate.month; // current month
int sysdate.day; // current day-of-month
int sysdate.dayofweek; // current day of week (0=sunday, 6=saturday)

int systime.hour; // system clock hour (24hour format)
int systime.minute; // current clock minute
int systime.second; // current clock second</pre></div></div><br/></li></ol><li><b><a href="#41"> </a><div style='font-size:14px; border:1px solid black; padding:0.35em; background-color:#E6FBE4;'><big>Built-in Defines</big></b><div style='font-size:12px;'>For information on the nature of the built-in defines, read the <a href="http://www.verge-rpg.com/docs/view.php?libid=1&section=9&PHPSESSID=c0644dfcc36f434521245d90a67a136f">Preprocessor directives</a> section of the manual.</div></div><br/></li><ol type=a><li><a id="42" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Version</b></u><div style='background-color:#F8EBD8; font-size:11px;'>_version is a builtin define that will return, in string format, the version of verge you're currently running.<br><br>

Might be useful inorder to stop anyone from running your game with a different version of verge... or something =p</div></div><br/></li><li><a id="43" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Scan Codes</b></u><div style='background-color:#F8EBD8; font-size:11px;'>Verge doesn't use ASCII for reading and comparing keyboard input, but instead uses the keyboard scan codes instead. You will generally only use the scan codes when reading lastpressed or the key array.<br>
EX:<br><br>

if(key[SCAN_ESC]) exit("");<br>
else if(key[SCAN_ENTER]) map("town.map");<br><br>

or<br><br>

switch(lastpressed){<br>
    case SCAN_EXIT: exit("");<br>
    case SCAN_ENTER: map("town.map");<br>
}<br><br>

from vergec.txt:<br>
{"SCAN_ESC", "01" } <br>
{"SCAN_1", "02" } <br>
{"SCAN_2", "03" } <br>
{"SCAN_3", "04" } <br>
{"SCAN_4", "05" } <br>
{"SCAN_5", "06" } <br>
{"SCAN_6", "07" } <br>
{"SCAN_7", "08" } <br>
{"SCAN_8", "09" } <br>
{"SCAN_9", "10" } <br>
{"SCAN_0", "11" } <br>
{"SCAN_MINUS", "12" } <br>
{"SCAN_EQUALS", "13" } <br>
{"SCAN_BACKSP", "14" } <br>
{"SCAN_TAB", "15" } <br>
{"SCAN_Q", "16" } <br>
{"SCAN_W", "17" } <br>
{"SCAN_E", "18" } <br>
{"SCAN_R", "19" } <br>
{"SCAN_T", "20" } <br>
{"SCAN_Y", "21" } <br>
{"SCAN_U", "22" } <br>
{"SCAN_I", "23" } <br>
{"SCAN_O", "24" } <br>
{"SCAN_P", "25" } <br>
{"SCAN_LANGLE", "26" }<br>
{"SCAN_RANGLE", "27" } <br>
{"SCAN_ENTER", "28" } <br>
{"SCAN_CTRL", "29" } <br>
{"SCAN_A", "30" } <br>
{"SCAN_S", "31" } <br>
{"SCAN_D", "32" } <br>
{"SCAN_F", "33" } <br>
{"SCAN_G", "34" } <br>
{"SCAN_H", "35" } <br>
{"SCAN_J", "36" } <br>
{"SCAN_K", "37" } <br>
{"SCAN_L", "38" } <br>
{"SCAN_SCOLON", "39" }<br>
{"SCAN_QUOTA", "40" } <br>
{"SCAN_RQUOTA", "41" } <br>
{"SCAN_LSHIFT", "42" } <br>
{"SCAN_BSLASH", "43" } <br>
{"SCAN_Z", "44" } <br>
{"SCAN_X", "45" } <br>
{"SCAN_C", "46" } <br>
{"SCAN_V", "47" } <br>
{"SCAN_B", "48" } <br>
{"SCAN_N", "49" } <br>
{"SCAN_M", "50" } <br>
{"SCAN_COMMA", "51" }<br>
{"SCAN_DOT", "52" } <br>
{"SCAN_SLASH", "53" } <br>
{"SCAN_RSHIFT", "54" } <br>
{"SCAN_STAR", "55" } <br>
{"SCAN_ALT", "56" } <br>
{"SCAN_SPACE", "57" } <br>
{"SCAN_CAPS", "58" } <br>
{"SCAN_F1", "59" } <br>
{"SCAN_F2", "60" } <br>
{"SCAN_F3", "61" } <br>
{"SCAN_F4", "62" } <br>
{"SCAN_F5", "63" } <br>
{"SCAN_F6", "64" } <br>
{"SCAN_F7", "65" } <br>
{"SCAN_F8", "66" } <br>
{"SCAN_F9", "67" } <br>
{"SCAN_F10", "68" } <br>
{"SCAN_NUMLOCK","69" }<br>
{"SCAN_SCRLOCK","70" } <br>
{"SCAN_HOME", "71" } <br>
{"SCAN_UP", "72" } <br>
{"SCAN_PGUP", "73" } <br>
{"SCAN_GMINUS", "74" } <br>
{"SCAN_LEFT", "75" } <br>
{"SCAN_PAD_5", "76" } <br>
{"SCAN_RIGHT", "77" } <br>
{"SCAN_GPLUS", "78" } <br>
{"SCAN_END", "79" } <br>
{"SCAN_DOWN", "80" } <br>
{"SCAN_PGDN", "81" } <br>
{"SCAN_INSERT", "82" } <br>
{"SCAN_DEL", "83" } <br>
{"SCAN_F11", "87" } <br>
{"SCAN_F12", "88" } <br></div></div><br/></li><li><a id="44" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>Color Filters</b></u><div style='background-color:#F8EBD8; font-size:11px;'>The defines are for use with:<br>
void ColorFilter(COLOR_FILTER filter, int image)<br><br>


Applies the specified filter to the given image. The following filters are valid: <br><br>

CF_NONE does absolutely nothing! <br>
CF_GREY converts the image to greyscale <br>
CF_GREYINV converts the image to inverted greyscale. <br>
CF_INV converts to full-color RGB inversion. For instance, the inverse of green would be purple: RGB(0,255,0) -> RGB(255,0,255). <br>
CF_RED gets an average luminosity and then applies that to the red channel only. <br>
CF_GREEN gets an average luminosity and then applies that to the green channel only. <br>
CF_BLUE gets an average luminosity and then applies that to the blue channel only. <br>
CF_CUSTOM uses a user defined color filter set with SetCustomColorFilter(int c1, int c2).<br>

Example:<br>
colorFilter(CF_BLUE, screen); // This will convert the screen image to a full blue-scale image<br>
<br>
To see the greyscale filter in action, and how it differs from other methods <a href="http://www.verge-rpg.com/files/get.php?id=479">this program</a> is a good demonstration.<br>
<br>
Two notes about this function. It will abide by the clipping region, but you will not gain the full speed benefit of a clip region. This may be optimized in the future. It will abide by Lucency values: you can acheive some cool effects this way. For instance a lucent percentage of a CF_GREY filter will provide a washed-out, color-faded look.
</div></div><br/></li></ol><li><b><a href="#13"> </a><div style='font-size:14px; border:1px solid black; padding:0.35em; background-color:#E6FBE4;'><big>Appendix</big></b><div style='font-size:12px;'></div></div><br/></li><ol type=a><li><a id="18" > </a><div style='font-size:14px;  border:1px solid black; background-color:#F8EBD8; padding:0.35em;'><u><b>history of verge</b></u><div style='background-color:#F8EBD8; font-size:11px;'><p>
1. Verge<br>
2. Verge2<br>
3. Much lameness<br>
4. Verge3<br>
</p>
</div></div><br/></li></ol><li><b><a href="#14"> </a><div style='font-size:14px; border:1px solid black; padding:0.35em; background-color:#E6FBE4;'><big>Credits</big></b><div style='font-size:12px;'></div></div><br/></li><li><b><a href="#19"> </a><div style='font-size:14px; border:1px solid black; padding:0.35em; background-color:#E6FBE4;'><big>Colophon</big></b><div style='font-size:12px;'><div align=center><img src=./images/docs/clam.gif><h3>The Paradise Isle Matriculated Monovalve</h3></div>

<p>The clam on the cover is the endangered, yet resilient Paradise Isle Matriculated Monovalve.  This much-sullied clam has been blamed of every malady in the Paradise Isle and Lesser Vicaria regions from clogging water lines and polluting water supplies to supplying plucky adventurers with tools to further their quest.  Although it's population is in the low odd prime numbers, we still reserve hope that with proper care the species can make a recovery.</p></div></div><br/></li></ol></td></tr></table>
</html>